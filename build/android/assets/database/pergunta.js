function getTablePergunta(){return"tb_pergunta"}function dbLoad(){var e=Ti.Database.open(Ti.App.Properties.getString(DATABASE_FILE));return e}function createPergunta(){db=dbLoad(),db.execute("CREATE TABLE IF NOT EXISTS "+getTablePergunta()+"(\n		id INTEGER PRIMARY KEY, prg_id INTEGER, prg_pergunta TEXT, prg_resposta TEXT, prg_software INTEGER \n		);"),db.close()}function dropPergunta(){db=dbLoad(),db.execute("DROP TABLE IF EXISTS "+getTablePergunta()),db.close()}function insertPergunta(e,i,t,o){db=dbLoad(),db.execute("INSERT INTO "+getTablePergunta()+" (\n		prg_id, prg_pergunta, prg_resposta, prg_software) \n	VALUES (?,?,?,?)",e,i,t,o),db.close()}function selectallPergunta(){db=dbLoad();var e=db.execute("SELECT * FROM "+getTablePergunta());return db.close(),e}function consultaPerguntas(e,i){db=dbLoad();var t="SELECT * FROM "+getTablePergunta()+" WHERE ";if(0!=e&&e){var o="(prg_software = 0 OR prg_software = "+e+") ";t+=o}else t+="prg_software = 0 ";if(""!=i&&i){var a="AND (prg_pergunta LIKE '%"+i+"%' OR  prg_resposta LIKE '%"+i+"%')";t+=a}var l=db.execute(t);return db.close(),l}function processPergunta(e){dropPergunta(),createPergunta();for(var i=JSON.parse(e),t=0;t<i.length;t++){var o=i[t].prg_id,a=i[t].prg_pergunta,l=i[t].prg_resposta,r=i[t].prg_software;insertPergunta(o,a,l,r)}}