function getTableInformacaoProduto(){return"tb_info_produtos"}function dbLoad(){var e=Ti.Database.open(Ti.App.Properties.getString(DATABASE_FILE));return e}function createInformacaoProduto(){db=dbLoad(),db.execute("CREATE TABLE IF NOT EXISTS "+getTableInformacaoProduto()+"(\n		id INTEGER PRIMARY KEY, ifp_id INTEGER, fk_tamanhos INTEGER,\n		fk_produtos INTEGER, fk_cores INTEGER, ifp_valor_1 FLOAT, ifp_valor_2 FLOAT, ifp_valor_3 FLOAT,\n		ifp_estoque_1 FLOAT, ifp_estoque_2 FLOAT, ifp_estoque_fixo INTEGER, ifp_qtde_minima INTEGER, ifp_destaque INTEGER,\n		ifp_peso INTEGER, ifp_cub_a FLOAT, ifp_cub_l FLOAT, ifp_cub_p FLOAT, ifp_codigo TEXT, ep_id FLOAT\n		);"),db.close()}function dropInformacaoProduto(){db=dbLoad(),db.execute("DROP TABLE IF EXISTS "+getTableInformacaoProduto()),db.close()}function insertInformacaoProduto(e,i,t,o,a,l,r,_,d,s,n,c,f,p,h,g,y,I){db=dbLoad(),db.execute("INSERT INTO "+getTableInformacaoProduto()+" (\n		ifp_id, fk_tamanhos,\n		fk_produtos, fk_cores, ifp_valor_1, ifp_valor_2, ifp_valor_3,\n		ifp_estoque_1, ifp_estoque_2, ifp_estoque_fixo, ifp_qtde_minima, ifp_destaque,\n		ifp_peso, ifp_cub_a, ifp_cub_l, ifp_cub_p, ifp_codigo, ep_id) \n	VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)",e,i,t,o,a,l,r,_,d,s,n,c,f,p,h,g,y,I),db.close()}function selectallInformacaoProduto(){db=dbLoad();var e=db.execute("SELECT * FROM "+getTableInformacaoProduto());return db.close(),e}function selectInformacaoProdutoByTamanhoCor(e,i,t){db=dbLoad(),query=" SELECT \n		tb_info_produtos.fk_tamanhos, \n		tb_info_produtos.ifp_estoque_1, \n		tb_info_produtos.ifp_id, \n		tb_info_produtos.ifp_estoque_2, \n		tb_info_produtos.ifp_valor_1, \n		tb_info_produtos.ifp_valor_2, \n		tb_info_produtos.ifp_valor_3, \n		tb_info_produtos.ifp_estoque_fixo, \n		tb_info_produtos.ifp_qtde_minima, \n		tb_produtos.prd_grade,\n		tb_produtos.prd_tipo FROM tb_info_produtos \n		INNER JOIN tb_produtos ON tb_produtos.prd_id = tb_info_produtos.fk_produtos\n		WHERE \n		tb_info_produtos.fk_produtos = "+e+"\n		AND tb_info_produtos.fk_cores = "+t+"\n		AND tb_info_produtos.fk_tamanhos = "+i;var o=db.execute(query);return db.close(),o}function selectInformacaoProdutoByProduct(e,i){db=dbLoad(),query=" SELECT \n		tb_info_produtos.fk_tamanhos, \n		tb_info_produtos.ifp_estoque_1, \n		tb_info_produtos.ifp_id, \n		tb_info_produtos.ifp_estoque_2, \n		tb_info_produtos.ifp_valor_1, \n		tb_info_produtos.ifp_valor_2, \n		tb_info_produtos.ifp_valor_3, \n		tb_info_produtos.ifp_estoque_fixo, \n		tb_info_produtos.ifp_qtde_minima, \n		tb_produtos.prd_grade,\n		tb_produtos.prd_tipo,\n		tb_tamanhos.tmh_id,\n		tb_tamanhos.tmh_nome,\n		tb_cores.cor_id,\n		tb_cores.cor_nome,\n		tb_info_produtos.fk_cores\n		FROM tb_info_produtos \n		INNER JOIN tb_tamanhos ON tb_tamanhos.tmh_id = tb_info_produtos.fk_tamanhos\n		INNER JOIN tb_cores ON tb_cores.cor_id = tb_info_produtos.fk_cores  \n		INNER JOIN tb_produtos ON tb_produtos.prd_id = tb_info_produtos.fk_produtos\n		WHERE \n		(tb_info_produtos.ep_id = "+i+" ) AND \n		( tb_info_produtos.fk_produtos = "+e+" )\n		ORDER BY tmh_nome ASC";var t=db.execute(query);return db.close(),t}function processInformacaoProduto(e){dropInformacaoProduto(),createInformacaoProduto();for(var i=JSON.parse(e),t=0;t<i.length;t++)if(0==i[t].ifp_excluido){var o=i[t].ifp_id,a=i[t].fk_tamanhos,l=i[t].fk_produtos,r=i[t].fk_cores,_=i[t].ifp_valor_1,d=i[t].ifp_valor_2,s=i[t].ifp_valor_3,n=i[t].ifp_estoque_1,c=i[t].ifp_estoque_2,f=i[t].ifp_estoque_fixo,p=i[t].ifp_qtde_minima,h=i[t].ifp_destaque,g=i[t].ifp_peso,y=i[t].ifp_cub_a,I=i[t].ifp_cub_l,u=i[t].ifp_cub_p,w=i[t].ifp_codigo,T=i[t].ep_id;insertInformacaoProduto(o,a,l,r,_,d,s,n,c,f,p,h,g,y,I,u,w,T)}}