function getTableMarcas(){return"tb_marcas"}function dbLoad(){var e=Ti.Database.open(Ti.App.Properties.getString(DATABASE_FILE));return e}function createMarcas(){db=dbLoad(),db.execute("CREATE TABLE IF NOT EXISTS "+getTableMarcas()+"(\n		id INTEGER PRIMARY KEY, mc_id INTEGER, mc_nome TEXT, mc_cnpj TEXT, ep_id INTEGER, mc_endereco TEXT, mc_numero TEXT, mc_complemento TEXT, mc_bairro TEXT, mc_cidade TEXT, mc_uf TEXT, mc_cep TEXT\n		);"),db.close()}function dropMarcas(){db=dbLoad(),db.execute("DROP TABLE IF EXISTS "+getTableMarcas()),db.close()}function insertMarcas(e,i,t,o,a,l,r,_,d,s,n){db=dbLoad(),db.execute("INSERT INTO "+getTableMarcas()+" (mc_id, mc_nome, mc_cnpj, ep_id, mc_endereco, mc_numero, mc_complemento, mc_bairro, mc_cidade, mc_uf, mc_cep) \n	VALUES (?,?,?,?,?,?,?,?,?,?,?)",e,i,t,o,a,l,r,_,d,s,n),db.close()}function selectallMarcas(e){db=dbLoad();for(var i=db.execute("SELECT fk_marca FROM tb_representante_marca WHERE fk_representante = "+e),t=[];i.isValidRow();)t.push(i.fieldByName("fk_marca")),i.next();var o=db.execute("SELECT mc_id,mc_nome FROM "+getTableMarcas()+" where mc_id in ("+t.toString()+') ORDER BY "mc_nome" ASC');return db.close(),o}function processMarcas(e){dropMarcas(),createMarcas();for(var i=JSON.parse(e),t=0;t<i.length;t++)if(0==i[t].mc_visualizar){var o=i[t].mc_id,a=i[t].mc_nome,l=i[t].mc_cnpj,r=i[t].ep_id,_=i[t].mc_endereco,d=i[t].mc_numero,s=i[t].mc_complemento,n=i[t].mc_bairro,c=i[t].mc_cidade,f=i[t].mc_uf,p=i[t].mc_cep;insertMarcas(o,a,l,r,_,d,s,n,c,f,p)}}