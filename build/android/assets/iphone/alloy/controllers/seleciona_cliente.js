function __processArg(e,i){var t=null;return e&&(t=e[i]||null,delete e[i]),t}function Controller(){function e(e){if(Ti.API.info(e.itemIndex),1==e.itemIndex||2==e.itemIndex||3==e.itemIndex||4==e.itemIndex)if(Ti.App.Properties.getList(SELECTED_CLIENTS)){for(var i=Ti.App.Properties.getList(SELECTED_CLIENTS),t=0;t<i.length;t++);0==t?alert("É necessário a seleção de um cliente ou mais para seguir em diante!"):menuSelection(e.itemIndex)}else alert("É necessário a seleção de um cliente ou mais para seguir em diante!");else menuSelection(e.itemIndex)}function i(){if(0!=r.buscaRazao.value.length){var e=r.buscaRazao.value;C=selectClientesByRazao(e),o(C)}else if(0!=r.buscaCnpj.value.length){var e=r.buscaCnpj.value;C=selectClientesByCnpj(e),o(C)}else if(0!=r.buscaErp.value.length){var e=r.buscaErp.value;C=selectClientesByErp(e),o(C)}else alert("Favor preencher o campo de busca")}function t(){if(Titanium.UI.currentWindow,"android"==Ti.Platform.osname)var e=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];else var e=["A","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];var i=Titanium.UI.createOptionDialog({options:e,destructive:2,cancel:0,title:"Buscar por ordem alfabética"});i.show(),i.addEventListener("click",function(i){var t=selectClientesByAlfabetica(e[i.index]);o(t)})}function o(e){var i=[];if(Ti.App.Properties.getList(SELECTED_CLIENTS))for(var t=Ti.App.Properties.getList(SELECTED_CLIENTS),o=0;o<t.length;o++)i[t[o]]=0==o&&3!=Ti.App.Properties.getString(CURRENT_SOFTWARE)?"clientes_base":"clientes_selecionado";for(var l=[];e.isValidRow();){var a=e.fieldByName("cl_id"),_=e.fieldByName("cl_razao"),d=e.fieldByName("cl_cnpj"),s=e.fieldByName("cl_bairro_unid"),n=e.fieldByName("cl_cidade_unid");Ti.API.info(_),i[a]||(i[a]="clientes_naoselecionado");var c;c="android"==Ti.Platform.osname?"11%":"9%",l.push({cl_id:a,label_razao:{text:_},label_cnpj:{text:d},label_bairro:{text:s},label_cidade:{text:n},btn_selecionar:{width:c},template:i[a]}),e.next()}r.listaClientes.sections[0].setItems(l)}function l(e){var i=r.listaClientes.sections[e.sectionIndex],t=i.getItemAt(e.itemIndex),o=t.cl_id,l=addSelectedClients(o);"amarelo"==l?(t.template="clientes_base",i.updateItemAt(e.itemIndex,t)):"vermelho"==l&&(t.template="clientes_selecionado",i.updateItemAt(e.itemIndex,t),Ti.API.info(getSelectedClients()))}function a(e){var i=r.listaClientes.sections[e.sectionIndex],t=i.getItemAt(e.itemIndex),o=t.cl_id;delSelectedClients(o),t.template="clientes_naoselecionado",i.updateItemAt(e.itemIndex,t)}function d(e){for(var i=r.listaClientes.sections[e.sectionIndex],t=i.getItemAt(e.itemIndex),o=t.cl_id,l=Ti.App.Properties.getList(SELECTED_CLIENTS),a=0;a<l.length;a++);1==a&&(delSelectedClients(o),t.template="clientes_naoselecionado",i.updateItemAt(e.itemIndex,t))}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="seleciona_cliente",this.args=arguments[0]||{},arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var r=this,s={},n={};r.__views.seleciona_cliente=Ti.UI.createWindow({backgroundColor:"#ffffff",id:"seleciona_cliente"}),r.__views.seleciona_cliente&&r.addTopLevelView(r.__views.seleciona_cliente);var c={},I=[],p={type:"Ti.UI.View",childTemplates:function(){var e=[],i={type:"Ti.UI.Label",bindId:"btnmenu",properties:{touchEnabled:"false",width:"98%",color:"white",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,bindId:"btnmenu"}};return e.push(i),e}(),properties:{backgroundColor:"#3f3a35",borderColor:"#9ccccb",borderWidth:"4",color:"#ffffff",height:"94",top:"10",width:"90%"},events:{click:e}};I.push(p);var w={properties:{height:"112dp",name:"menuTemplate"},childTemplates:I};c.menuTemplate=w;var h=[];r.__views.__alloyId1317={btnmenu:{text:"CNPJ/\n RAZÃO SOCIAL/\n ENDEREÇO LOJA"},properties:{id:"__alloyId1317"}},h.push(r.__views.__alloyId1317),r.__views.__alloyId1318={btnmenu:{text:"ANÁLISE DE \n CRÉDITO"},properties:{id:"__alloyId1318"}},h.push(r.__views.__alloyId1318),r.__views.__alloyId1319={btnmenu:{text:"IR AO\n CATÁLOGO"},properties:{id:"__alloyId1319"}},h.push(r.__views.__alloyId1319),r.__views.__alloyId1320={btnmenu:{text:"PEDIDOS"},properties:{id:"__alloyId1320"}},h.push(r.__views.__alloyId1320),r.__views.__alloyId1321={btnmenu:{text:"TRANSPORTADORA"},properties:{id:"__alloyId1321"}},h.push(r.__views.__alloyId1321),r.__views.__alloyId1322={btnmenu:{text:"NOVO CLIENTE"},properties:{id:"__alloyId1322"}},h.push(r.__views.__alloyId1322),r.__views.__alloyId1323={btnmenu:{text:"FUNÇÕES"},properties:{id:"__alloyId1323"}},h.push(r.__views.__alloyId1323),r.__views.__alloyId1324={btnmenu:{text:"EMAIL"},properties:{id:"__alloyId1324"}},h.push(r.__views.__alloyId1324),r.__views.__alloyId1325={btnmenu:{text:"VOLTAR PARA TELA INICIAL"},properties:{id:"__alloyId1325"}},h.push(r.__views.__alloyId1325),r.__views.__alloyId1326={btnmenu:{text:"TROCAR\n MARCA"},properties:{id:"__alloyId1326"}},h.push(r.__views.__alloyId1326),r.__views.__alloyId1327={btnmenu:{text:"SAIR"},properties:{id:"__alloyId1327"}},h.push(r.__views.__alloyId1327),r.__views.__alloyId1314=Ti.UI.createListSection({id:"__alloyId1314"}),r.__views.__alloyId1314.items=h;var v=[];v.push(r.__views.__alloyId1314),r.__views.__alloyId1304=Ti.UI.createListView({backgroundColor:"#ebf7f6",height:"100%",left:"0",width:"15%",sections:v,templates:c,defaultItemTemplate:"menuTemplate",id:"__alloyId1304"}),r.__views.seleciona_cliente.add(r.__views.__alloyId1304),r.__views.__alloyId1329=Ti.UI.createView({height:"100%",right:"0",width:"85%",id:"__alloyId1329"}),r.__views.seleciona_cliente.add(r.__views.__alloyId1329),r.__views.__alloyId1330=Ti.UI.createView({height:"90",top:"0",width:"98%",id:"__alloyId1330"}),r.__views.__alloyId1329.add(r.__views.__alloyId1330),r.__views.__alloyId1331=Ti.UI.createView({height:"90%",left:"0",width:"15%",id:"__alloyId1331"}),r.__views.__alloyId1330.add(r.__views.__alloyId1331),r.__views.logoEmpresa=Ti.UI.createImageView({image:"/images/logo_rodape.jpg",left:"0",id:"logoEmpresa"}),r.__views.__alloyId1331.add(r.__views.logoEmpresa),r.__views.__alloyId1332=Ti.UI.createButton({backgroundColor:"#FFFFFF",color:"#4e8789",height:"90",left:"15%",width:"70%",title:"CNPJ / RAZÃO SOCIAL / ENDEREÇO LOJA",id:"__alloyId1332"}),r.__views.__alloyId1330.add(r.__views.__alloyId1332),r.__views.__alloyId1333=Ti.UI.createView({height:"90",left:"85%",width:"15%",id:"__alloyId1333"}),r.__views.__alloyId1330.add(r.__views.__alloyId1333),r.__views.__alloyId1334=Ti.UI.createImageView({image:"/images/logo_rodape.jpg",right:"0",id:"__alloyId1334"}),r.__views.__alloyId1333.add(r.__views.__alloyId1334),r.__views.__alloyId1335=Ti.UI.createView({borderColor:"#4e8789",borderWidth:"4",top:"90",width:"98%",id:"__alloyId1335"}),r.__views.__alloyId1329.add(r.__views.__alloyId1335),r.__views.__alloyId1336=Ti.UI.createView({borderColor:"#4e8789",borderWidth:"4",height:"130",top:"0",width:"100%",id:"__alloyId1336"}),r.__views.__alloyId1335.add(r.__views.__alloyId1336),r.__views.__alloyId1337=Ti.UI.createView({height:"130",left:"1%",width:"92%",id:"__alloyId1337"}),r.__views.__alloyId1336.add(r.__views.__alloyId1337),r.__views.buscaRazao=Ti.UI.createTextField({borderColor:"#6EA9A0",borderRadius:"5",borderWidth:"4",color:"#000000",height:"50",left:"0",top:"10",width:"49%",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,id:"buscaRazao",hintText:"BUSCAR POR RAZÃO SOCIAL"}),r.__views.__alloyId1337.add(r.__views.buscaRazao),r.__views.buscaCnpj=Ti.UI.createTextField({borderColor:"#6EA9A0",borderRadius:"5",borderWidth:"4",color:"#000000",height:"50",left:"50%",top:"10",width:"49%",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,id:"buscaCnpj",hintText:"BUSCAR POR CNPJ"}),r.__views.__alloyId1337.add(r.__views.buscaCnpj),r.__views.buscaErp=Ti.UI.createTextField({borderColor:"#6EA9A0",borderRadius:"5",borderWidth:"4",color:"#000000",height:"50",left:"0",top:"70",width:"49%",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,id:"buscaErp",hintText:"BUSCAR POR CÓDIGO DO ERP"}),r.__views.__alloyId1337.add(r.__views.buscaErp),r.__views.__alloyId1338=Ti.UI.createButton({backgroundColor:"#ffffff",borderColor:"#6EA9A0",borderRadius:"5",borderWidth:"4",color:"#000000",height:"50",left:"50%",top:"70",width:"49%",title:"BUSCAR POR ORDEM ALFABÉTICA",id:"__alloyId1338"}),r.__views.__alloyId1337.add(r.__views.__alloyId1338),t?r.__views.__alloyId1338.addEventListener("click",t):n["$.__views.__alloyId1338!click!buscaAlfabetica"]=!0,r.__views.__alloyId1339=Ti.UI.createView({height:"130",left:"92%",top:"0",width:"7%",id:"__alloyId1339"}),r.__views.__alloyId1336.add(r.__views.__alloyId1339),r.__views.__alloyId1340=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",height:"110",top:"10",width:"80%",color:"white",title:"Ir",id:"__alloyId1340"}),r.__views.__alloyId1339.add(r.__views.__alloyId1340),i?r.__views.__alloyId1340.addEventListener("click",i):n["$.__views.__alloyId1340!click!buscaCliente"]=!0,r.__views.__alloyId1341=Ti.UI.createView({height:"70%",top:"220",width:"98%",id:"__alloyId1341"}),r.__views.__alloyId1329.add(r.__views.__alloyId1341);var f={},T=[],u={type:"Ti.UI.View",childTemplates:function(){var e=[],i={type:"Ti.UI.View",childTemplates:function(){var e=[],i={type:"Ti.UI.Label",bindId:"label_razao",properties:{color:"#000000",height:"100%",textAlign:Ti.UI.TEXT_ALIGNMENT_LEFT,width:"98%",bindId:"label_razao"}};return e.push(i),e}(),properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",width:"38%"}};e.push(i);var t={type:"Ti.UI.Label",bindId:"label_cnpj",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",width:"20%",bindId:"label_cnpj"}};e.push(t);var o={type:"Ti.UI.Label",bindId:"label_bairro",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",width:"15%",bindId:"label_bairro"}};e.push(o);var a={type:"Ti.UI.Label",bindId:"label_cidade",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",width:"15%",bindId:"label_cidade"}};e.push(a);var _={type:"Ti.UI.Button",bindId:"btn_selecionar",properties:{backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",left:"1%",width:"11%",height:"95%",color:"#ffffff",bindId:"btn_selecionar",title:"Selecionar"},events:{click:l}};return e.push(_),e}(),properties:{layout:"horizontal"}};T.push(u);var g={properties:{height:"50",top:"6",width:"98%",name:"clientes_naoselecionado"},childTemplates:T};f.clientes_naoselecionado=g;var y=[],b={type:"Ti.UI.View",childTemplates:function(){var e=[],i={type:"Ti.UI.View",childTemplates:function(){var e=[],i={type:"Ti.UI.Label",bindId:"label_razao",properties:{color:"#000000",height:"100%",textAlign:Ti.UI.TEXT_ALIGNMENT_LEFT,width:"98%",bindId:"label_razao"}};return e.push(i),e}(),properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",width:"38%"}};e.push(i);var t={type:"Ti.UI.Label",bindId:"label_cnpj",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",width:"20%",bindId:"label_cnpj"}};e.push(t);var o={type:"Ti.UI.Label",bindId:"label_bairro",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",width:"15%",bindId:"label_bairro"}};e.push(o);var l={type:"Ti.UI.Label",bindId:"label_cidade",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",width:"15%",bindId:"label_cidade"}};e.push(l);var _={type:"Ti.UI.Button",bindId:"btn_selecionar",properties:{backgroundGradient:{type:"linear",colors:["#d9534f","#e5302a"]},borderRadius:"5",left:"1%",width:"11%",height:"95%",color:"white",bindId:"btn_selecionar",title:"Selecionar"},events:{click:a}};return e.push(_),e}(),properties:{layout:"horizontal"}};y.push(b);var m={properties:{height:"50",top:"6",width:"98%",name:"clientes_selecionado"},childTemplates:y};f.clientes_selecionado=m;var E=[],A={type:"Ti.UI.View",childTemplates:function(){var e=[],i={type:"Ti.UI.View",childTemplates:function(){var e=[],i={type:"Ti.UI.Label",bindId:"label_razao",properties:{color:"#000000",height:"100%",textAlign:Ti.UI.TEXT_ALIGNMENT_LEFT,width:"98%",bindId:"label_razao"}};return e.push(i),e}(),properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",width:"38%"}};e.push(i);var t={type:"Ti.UI.Label",bindId:"label_cnpj",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",width:"20%",bindId:"label_cnpj"}};e.push(t);var o={type:"Ti.UI.Label",bindId:"label_bairro",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",width:"15%",bindId:"label_bairro"}};e.push(o);var l={type:"Ti.UI.Label",bindId:"label_cidade",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",width:"15%",bindId:"label_cidade"}};e.push(l);var a={type:"Ti.UI.Button",bindId:"btn_selecionar",properties:{backgroundGradient:{type:"linear",colors:["#f5eb4b","#dcd231"]},borderRadius:"5",left:"1%",width:"11%",height:"95%",color:"white",bindId:"btn_selecionar",title:"Base"},events:{click:d}};return e.push(a),e}(),properties:{layout:"horizontal"}};E.push(A);var N={properties:{height:"50",top:"6",width:"98%",name:"clientes_base"},childTemplates:E};f.clientes_base=N,r.__views.__alloyId1400=Ti.UI.createListSection({id:"__alloyId1400"});var U=[];U.push(r.__views.__alloyId1400),r.__views.listaClientes=Ti.UI.createListView({sections:U,templates:f,id:"listaClientes"}),r.__views.__alloyId1341.add(r.__views.listaClientes),s.destroy=function(){},_.extend(r,r.__views),arguments[0]||{},Ti.include("/api/menu.js"),Ti.include("/api/config.js"),Ti.include("/database/clientes.js"),Ti.include("/database/aparencia.js");var C;r.logoEmpresa.image=getImagesFolder()+selectLogoFile(),Ti.App.Properties.getString(CURRENT_SOFTWARE),n["$.__views.__alloyId1338!click!buscaAlfabetica"]&&r.__views.__alloyId1338.addEventListener("click",t),n["$.__views.__alloyId1340!click!buscaCliente"]&&r.__views.__alloyId1340.addEventListener("click",i),_.extend(r,s)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;