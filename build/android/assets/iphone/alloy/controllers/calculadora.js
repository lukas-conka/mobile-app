function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){function e(){z.pagina_inicial.text=W,lt=H[W-1];var e,a=selectProductById(lt,j,Y),r=a.fieldByName("fk_template");switch(r){case 1:e="/images/notfound_quatro_quadrados.jpg";break;case 2:e="/images/notfound_tres_verticais.jpg";break;case 3:e="/images/notfound_quatro_verticais.jpg";break;case 4:e="/images/notfound_um_horizontal.jpg";break;case 5:e="/images/notfound_dois_horizontais.jpg";break;case 6:e="/images/notfound_dois_verticais.jpg";break;case 7:e="/images/notfound_quatro_horizontais.jpg";break;case 8:e="/images/notfound_cinco_verticais.jpg";break;case 9:e="/images/notfound_seis_verticais.jpg"}vt=a.fieldByName("prd_ipi"),pt=a.fieldByName("prd_icms"),p=a.fieldByName("prd_dados_tecnicos"),y=a.fieldByName("prd_dados_composicao"),X=u(a.fieldByName("prd_data_inicio"),a.fieldByName("prd_data_fim")),T=a.fieldByName("prd_dados_descricao"),q=a.fieldByName("prd_codigo_barra"),z.referencia.text="Referência\n"+a.fieldByName("prd_referencia"),z.nome.text=a.fieldByName("prd_nome"),z.colecao.text="Coleção\n"+a.fieldByName("prd_nome_colecao"),z.preco.text="Preço / Qtde\n"+formatCurrency(a.fieldByName("minValor"))+" a "+formatCurrency(a.fieldByName("maxValor"));var l=getImagesFolder()+selectImagemPrincipal(lt),_=Ti.Filesystem.getFile(l);switch(_?_.exists()||(l=e):l=e,it="vertical",r){case 4:case 5:case 7:it="vertical";break;default:it="horizontal"}removeAllViews(Q),Z&&z.content.remove(Z),Q=Ti.UI.createView({top:10,left:0,height:"auto",width:"auto",layout:it}),Z=Ti.UI.createScrollView({contentWidth:"auto",contentHeight:"auto",scrollType:it,showVerticalScrollIndicator:!0,showHorizontalScrollIndicator:!0}),z.content.add(Z);var n;dt=[],ct=[],ft=[],ht=[],_t=[];for(var s,d=selectInformacaoProdutoByProduct(lt,j),c=d;c.isValidRow();){c.fieldByName("ifp_id");var f=c.fieldByName("cor_nome"),h=c.fieldByName("cor_id"),I=c.fieldByName("tmh_nome"),v=c.fieldByName("tmh_id");s=dt.indexOf(f),0>s&&(dt.push(f),ft.push(h)),s=ct.indexOf(I),0>s&&(ct.push(I),ht.push(v)),c.next()}if(J&&Q.remove(J),"vertical"==it){K=Titanium.UI.createImageView({left:0,width:"98%",image:l,borderColor:"#CDCDCD",borderWidth:"1"}),Q.add(K),tt=(K.toBlob().width-70-113*(ct.length+3))/2,et=Titanium.UI.createView({top:3,left:Math.round(tt),height:"auto",layout:"horizontal",width:"100%"}),J=Titanium.UI.createView({height:"100%",layout:"horizontal",width:"auto"}),n=Titanium.UI.createView({height:"100%",width:100,layout:it});var w=K.toBlob().height+5+113*dt.length;Q.height=w,Q.width="100%",et.add(n),et.add(J),Q.add(et);var g=Titanium.UI.createLabel({backgroundColor:"#008382",color:"white",width:"100%",text:"Variantes",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER});n.add(g);for(var m=0;m<dt.length;m++){var E=getImagesFolder()+selectImagemVariantePrincipal(lt,ft[m]),_=Ti.Filesystem.getFile(E);_?_.exists()||(E=e):E=e;var b=Titanium.UI.createView({height:100,top:3,borderColor:"#008382",borderWidth:"1"}),N=Titanium.UI.createImageView({backgroundColor:"white",width:"98%",image:E,corid:ft[m]});N.addEventListener("click",function(e){t(e.source.corid),i(e.source.image)}),b.add(N),n.add(b)}var A=Titanium.UI.createLabel({backgroundColor:"#008382",color:"white",width:"100%",top:3,text:"TOTAL",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER});n.add(A)}else{J=Titanium.UI.createView({height:"100%",layout:"horizontal",width:"auto"}),K=Titanium.UI.createImageView({image:l,top:"0%",left:0,height:"98%",borderColor:"#CDCDCD",borderWidth:"1"}),Q.add(K),tt=(K.toBlob().height-113*dt.length)/2,n=Titanium.UI.createView({top:tt,left:3,layout:"vertical",height:"auto",width:100}),Q.add(n),Q.add(J);var g=Titanium.UI.createLabel({backgroundColor:"#008382",color:"white",width:"100%",text:"Variantes",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER});n.add(g);var L=K.toBlob().width+5+103*(ct.length+2);Q.width=L,Q.height="100%";for(var m=0;m<dt.length;m++){var E=getImagesFolder()+selectImagemVariantePrincipal(lt,ft[m]),_=Ti.Filesystem.getFile(E);_?_.exists()||(E=e):E=e;var b=Titanium.UI.createView({height:100,top:3,borderColor:"#008382",borderWidth:"1"}),N=Titanium.UI.createImageView({backgroundColor:"white",width:"98%",image:E,corid:ft[m]});N.addEventListener("click",function(e){t(e.source.corid),i(e.source.image)}),b.add(N),n.add(b)}var A=Titanium.UI.createLabel({backgroundColor:"#008382",color:"white",width:"100%",top:3,text:"TOTAL",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER});n.add(A)}Z.add(Q),o(),t(ft[0])}function t(e){var t=selectImagensPorVariante(lt,e);removeAllViews(z.imagens);var o=Ti.UI.createScrollView({height:"100%",contentWidth:"auto",contentHeight:"auto",scrollType:"horizontal",layout:"horizontal",showVerticalScrollIndicator:!1,showHorizontalScrollIndicator:!0});Ti.API.info("imagens.length="+t.length);for(var a=0;a<t.length;a++){var r=Titanium.UI.createImageView({height:"65dp",image:getImagesFolder()+t[a],right:3,borderColor:"#CDCDCD",borderWidth:"1"});r.addEventListener("click",function(e){i(e.source.image)}),o.add(r)}z.imagens.add(o)}function i(e){K.image=e}function o(){f(),removeAllViews(J);var e=0;"horizontal"==it&&(e=tt);for(var t=0,i=0;i<ct.length;i++){var o=Titanium.UI.createView({top:e,left:3,layout:"vertical",height:"auto",width:100}),r=Titanium.UI.createLabel({backgroundColor:"#008382",color:"white",width:"100%",text:ct[i],textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER});o.add(r);for(var l=0,_=[],n=0;n<dt.length;n++){var s=selectInformacaoProdutoByTamanhoCor(lt,ht[i],ft[n]);if(s.isValidRow()){var d=s.fieldByName("ifp_qtde_minima");_[lt]=[],_[lt]=d;var c=s.fieldByName("ifp_valor_1"),u=selectCarrinhoByProductTamanhoCor(lt,ht[i],ft[n],rt),I=0,v=0;0!=u[0]&&(I=u[1],l+=I),v=It?formatCurrency(c):I,_t[t]=Titanium.UI.createView({height:100,tmh_id:ht[i],cor_id:ft[n],ipi:vt,top:3,icms:pt,location:t,preco_unit:c,borderColor:"#008382",borderWidth:"1"}),nt[t]=Titanium.UI.createLabel({color:"#FF0000",width:"100%",top:5,text:v,textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,tmh_id:ht[i],cor_id:ft[n],location:t}),_t[t].add(nt[t]),st[t]=Titanium.UI.createLabel({color:"#008382",width:"100%",top:45,text:s.fieldByName("ifp_estoque_2")-I,textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,tmh_id:ht[i],cor_id:ft[n],location:t}),_t[t].add(st[t]);var p=Titanium.UI.createLabel({color:"#E98400",width:"100%",top:65,text:"min. "+s.fieldByName("ifp_qtde_minima"),textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,tmh_id:ht[i],cor_id:ft[n],location:t});_t[t].add(p),_t[t].addEventListener("click",function(e){a(e.source)}),o.add(_t[t]),t++}}Ti.App.Properties.setList("lista",_);var y=Titanium.UI.createLabel({backgroundColor:"#008382",color:"white",width:"100%",top:3,text:l,textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER});o.add(y),J.add(o)}h()}function a(e){var t=e.location,i=ut.indexOf(t),o=_t[t];0>i?(o.backgroundColor="#FFFF00",ut.push(t)):(o.backgroundColor="white",ut.splice(i,1))}function r(){var e=Ti.App.Properties.getList("lista"),t=e[lt];if(z.tela.text<t)alert("Quantidade minima de "+t);else if(""==z.tela.text)alert("Digite a quantidade");else{var i=z.tela.text;yt?s(i):l(i),z.tela.text="",o()}}function l(e){for(var t=0;t<ut.length;t++){var i=_t[ut[t]],o=st[ut[t]].text-e;0>o&&(o=0),c(i.tmh_id,i.cor_id,e,i.preco_unit,i.ipi,i.icms)}}function n(){yt?(yt=!1,z.sortido.backgroundGradient={type:"linear",colors:["#2c8f8e","#206764"]}):(yt=!0,z.sortido.backgroundGradient={type:"linear",colors:["#d9534f","#e5302a"]})}function s(e){for(var t=dt.length,i=ct.length,a=d(t,i,e),r=0;t>r;r++)for(var l=0;i>l;l++){var _=ft[r],n=ht[l],s=selectProductById(lt,j,at),f=a[r][l],h=s.fieldByName("minValor"),u=s.fieldByName("prd_ipi"),I=s.fieldByName("prd_icms");c(n,_,f,h,u,I)}o()}function d(e,t,i){for(var o=[],a=0;e>a;a++){o[a]=[];for(var r=0;t>r;r++)o[a][r]=0}var l=t/2,_=t%2,n=0,s=0;1==_?n=l+_:(n=l,s=l+1),n--,s--;var d=[],c=0;if(n>-1)for(var a=0;e>a;a++)d[c]=a+","+n,c++;if(s>-1)for(var a=0;e>a;a++)d[c]=a+","+s,c++;c=0;for(var a=0;e>a;a++)for(var r=0;t>r;r++){var f=a+","+r;d.indexOf(f)<0&&(d[c]=f,c++)}c=0;for(var h=0;i>h;h++){var u=d[c].split(","),I=o[u[0]][u[1]];I++,o[u[0]][u[1]]=I,c++,c==e*t&&(c=0)}return o}function c(e,t,i,o,a,r){var l=selectCarrinhoByProductTamanhoCor(lt,e,t,rt),_=Ti.App.Properties.getString(SESSION_ID),n=Ti.App.Properties.getString(CURRENT_USER_ID);if(0!=l[0]){var s=l[0],d=l[1],c=l[2],f=0;0!=i&&(f=d+parseInt(i)),f>c&&(f=c),updateCarrinho(s,_,f,0,0,0,0,0)}else insertCarrinho(_,i,o,a,r,0,0,0,0,0,n,lt,e,t,rt,j)}function f(){gt=0,Tt=0,mt=0,Et=0;for(var e=selectallCarrinho();e.isValidRow();)e.fieldByName("fk_produtos")==lt&&(Ti.API.info("carrinho="+e.fieldByName("car_quantidade")),gt+=e.fieldByName("car_quantidade"),Tt+=e.fieldByName("car_quantidade")*e.fieldByName("car_preco_unitario")),mt+=e.fieldByName("car_quantidade"),Et+=e.fieldByName("car_quantidade")*e.fieldByName("car_preco_unitario"),e.next();z.pecasref.title=gt+"",z.valorref.title=formatCurrency(Tt),z.pecastotal.title=mt+"",z.valortotal.title=formatCurrency(Et)}function h(){for(var e=0;e<ut.length;e++){var t=_t[ut[e]];t.backgroundColor="white"}ut=[]}function u(e,t){return"De "+e+" à "+t}function I(){goTo("categorias")}function v(){0>=mt?alert("Nenhum produto comprado!"):bt>Et?alert("Valor mínimo para compra é de "+formatCurrency(bt)):goTo("carrinho")}function p(){alert(p)}function y(){alert(y)}function w(){It=It?!1:!0,o()}function g(){alert(X)}function T(){alert(T)}function m(){alert(q)}function E(){var e=z.tela.text;e.length>0&&(z.tela.text=e.substring(0,e.length-1))}function b(){z.tela.text=z.tela.text+"1"}function N(){z.tela.text=z.tela.text+"2"}function A(){z.tela.text=z.tela.text+"3"}function L(){z.tela.text=z.tela.text+"4"}function x(){z.tela.text=z.tela.text+"5"}function S(){z.tela.text=z.tela.text+"6"}function k(){z.tela.text=z.tela.text+"7"}function U(){z.tela.text=z.tela.text+"8"}function R(){z.tela.text=z.tela.text+"9"}function C(){z.tela.text=z.tela.text+"0"}function P(){h(),z.tela.text=""}function O(){wt?(z.produtos.animate({curve:Ti.UI.ANIMATION_CURVE_EASE_IN_OUT,right:"-20%",duration:200}),wt=!1):(z.produtos.animate({curve:Ti.UI.ANIMATION_CURVE_EASE_IN_OUT,right:5,duration:200}),wt=!0)}function B(){O()}function V(){removeAllViews(z.listaprodutos);var t=Ti.UI.createScrollView({top:10,left:0,contentWidth:"auto",contentHeight:"auto",scrollType:"vertical",layout:"vertical",showVerticalScrollIndicator:!0,showHorizontalScrollIndicator:!0}),i=Ti.UI.createView({width:"100%",layout:"horizontal"});z.listaprodutos.add(t);for(var o=1,a=0;a<H.length;a++){var r=Titanium.UI.createView({top:5,left:5,layout:"vertical",height:140,width:"25%",prd_id:H[a]}),l=Titanium.UI.createView({layout:"vertical",height:"80%",width:"100%",borderColor:"#008382",borderWidth:"1",prd_id:H[a]});l.addEventListener("click",function(t){W=H.indexOf(t.source.prd_id)+1,e()});var _=Titanium.UI.createImageView({height:"60%",prd_id:H[a],image:getImagesFolder()+selectImagemPrincipal(H[a])});l.add(_);var n=Titanium.UI.createButton({backgroundColor:"transparent",width:"100%",image:"/images/apagar.png",prd_id:H[a]});r.add(l),r.add(n),o>3?(o=1,t.add(i),i=Ti.UI.createView({width:"100%",layout:"horizontal"})):i.add(r),o++}t.add(i)}function M(){for(var e=0;e<_t.length;e++){var t=_t[e];c(t.tmh_id,t.cor_id,0,0,0,0)}o()}function D(){W--,0>=W&&(W=H.length),e()}function G(){W++,W>H.length&&(W=1),e()}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="calculadora",this.args=arguments[0]||{},arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var z=this,$={},F={};z.__views.calculadora=Ti.UI.createWindow({backgroundColor:"white",id:"calculadora"}),z.__views.calculadora&&z.addTopLevelView(z.__views.calculadora),z.__views.__alloyId0=Ti.UI.createView({height:"10%",left:"15%",bottom:0,width:"65%",layout:"horizontal",id:"__alloyId0"}),z.__views.calculadora.add(z.__views.__alloyId0),z.__views.imagens=Ti.UI.createView({left:0,height:"88%",width:"55%",layout:"horizontal",id:"imagens"}),z.__views.__alloyId0.add(z.__views.imagens),z.__views.__alloyId1=Ti.UI.createImageView({height:"60%",image:"/images/estoque.png",id:"__alloyId1"}),z.__views.__alloyId0.add(z.__views.__alloyId1),z.__views.pagina_inicial=Ti.UI.createLabel({borderColor:"#008382",borderWidth:3,color:"red",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,width:50,height:50,text:"1",id:"pagina_inicial"}),z.__views.__alloyId0.add(z.__views.pagina_inicial),z.__views.__alloyId2=Ti.UI.createLabel({color:"#008382",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,left:3,text:"de",id:"__alloyId2"}),z.__views.__alloyId0.add(z.__views.__alloyId2),z.__views.pagina_final=Ti.UI.createLabel({borderColor:"#008382",borderWidth:3,color:"red",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,width:50,height:50,left:3,text:"1",id:"pagina_final"}),z.__views.__alloyId0.add(z.__views.pagina_final),z.__views.content=Ti.UI.createView({height:"85%",left:"15%",bottom:"15%",width:"65%",id:"content"}),z.__views.calculadora.add(z.__views.content),z.__views.__alloyId3=Ti.UI.createView({height:"100%",left:"0",width:"15%",id:"__alloyId3"}),z.__views.calculadora.add(z.__views.__alloyId3),z.__views.__alloyId4=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"8%",top:"1%",width:"90%",id:"__alloyId4"}),z.__views.__alloyId3.add(z.__views.__alloyId4),z.__views.referencia=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Referência",id:"referencia"}),z.__views.__alloyId4.add(z.__views.referencia),z.__views.__alloyId5=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"8%",top:"10%",width:"90%",id:"__alloyId5"}),z.__views.__alloyId3.add(z.__views.__alloyId5),z.__views.nome=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,id:"nome"}),z.__views.__alloyId5.add(z.__views.nome),z.__views.__alloyId6=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"8%",top:"19%",width:"90%",id:"__alloyId6"}),z.__views.__alloyId3.add(z.__views.__alloyId6),z.__views.colecao=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Coleção",id:"colecao"}),z.__views.__alloyId6.add(z.__views.colecao),z.__views.__alloyId7=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"8%",top:"28%",width:"90%",id:"__alloyId7"}),z.__views.__alloyId3.add(z.__views.__alloyId7),p?z.__views.__alloyId7.addEventListener("click",p):F["$.__views.__alloyId7!click!informacoes"]=!0,z.__views.informacoes=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Informações técnicas",id:"informacoes"}),z.__views.__alloyId7.add(z.__views.informacoes),z.__views.__alloyId8=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"8%",top:"37%",width:"90%",id:"__alloyId8"}),z.__views.__alloyId3.add(z.__views.__alloyId8),y?z.__views.__alloyId8.addEventListener("click",y):F["$.__views.__alloyId8!click!composicao"]=!0,z.__views.composicao=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Composição",id:"composicao"}),z.__views.__alloyId8.add(z.__views.composicao),z.__views.__alloyId9=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},font:{fontSize:16},borderRadius:"5",color:"#ffffff",height:"8%",top:"46%",width:"90%",id:"__alloyId9"}),z.__views.__alloyId3.add(z.__views.__alloyId9),w?z.__views.__alloyId9.addEventListener("click",w):F["$.__views.__alloyId9!click!precotroca"]=!0,z.__views.preco=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Preço / Qtde",id:"preco"}),z.__views.__alloyId9.add(z.__views.preco),z.__views.__alloyId10=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"8%",top:"55%",width:"90%",id:"__alloyId10"}),z.__views.__alloyId3.add(z.__views.__alloyId10),g?z.__views.__alloyId10.addEventListener("click",g):F["$.__views.__alloyId10!click!prazo"]=!0,z.__views.prazo=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Prazo de entrega",id:"prazo"}),z.__views.__alloyId10.add(z.__views.prazo),z.__views.__alloyId11=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"8%",top:"64%",width:"90%",id:"__alloyId11"}),z.__views.__alloyId3.add(z.__views.__alloyId11),T?z.__views.__alloyId11.addEventListener("click",T):F["$.__views.__alloyId11!click!descricao"]=!0,z.__views.descricao=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Descrição do produto",id:"descricao"}),z.__views.__alloyId11.add(z.__views.descricao),z.__views.__alloyId12=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"8%",top:"73%",width:"90%",id:"__alloyId12"}),z.__views.__alloyId3.add(z.__views.__alloyId12),m?z.__views.__alloyId12.addEventListener("click",m):F["$.__views.__alloyId12!click!codbarras"]=!0,z.__views.codbarras=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Código de barras",id:"codbarras"}),z.__views.__alloyId12.add(z.__views.codbarras),z.__views.logoEmpresa=Ti.UI.createImageView({image:"/images/logo_rodape.jpg",top:"82%",width:"90%",id:"logoEmpresa"}),z.__views.__alloyId3.add(z.__views.logoEmpresa),z.__views.__alloyId13=Ti.UI.createView({height:"100%",right:"0",width:"20%",id:"__alloyId13"}),z.__views.calculadora.add(z.__views.__alloyId13),z.__views.__alloyId14=Ti.UI.createView({borderColor:"#000000",borderWidth:"1",height:"10%",top:"1%",width:"94%",id:"__alloyId14"}),z.__views.__alloyId13.add(z.__views.__alloyId14),z.__views.tela=Ti.UI.createLabel({backgroundColor:"#000000",color:"#ffffff",font:{fontSize:25},height:"90%",left:"1%",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,width:"67%",text:"",id:"tela"}),z.__views.__alloyId14.add(z.__views.tela),z.__views.apaga=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"90%",right:"1%",font:{fontSize:18},width:"30%",title:"",id:"apaga"}),z.__views.__alloyId14.add(z.__views.apaga),E?z.__views.apaga.addEventListener("click",E):F["$.__views.apaga!click!apaga"]=!0,z.__views.__alloyId15=Ti.UI.createView({borderColor:"#cccccc",borderWidth:"1",height:"50%",top:"12%",width:"94%",id:"__alloyId15"}),z.__views.__alloyId13.add(z.__views.__alloyId15),z.__views.__alloyId16=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",left:"1%",top:"33%",width:"31%",title:"1",id:"__alloyId16"}),z.__views.__alloyId15.add(z.__views.__alloyId16),b?z.__views.__alloyId16.addEventListener("click",b):F["$.__views.__alloyId16!click!botao1"]=!0,z.__views.__alloyId17=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",top:"33%",width:"31%",title:"2",id:"__alloyId17"}),z.__views.__alloyId15.add(z.__views.__alloyId17),N?z.__views.__alloyId17.addEventListener("click",N):F["$.__views.__alloyId17!click!botao2"]=!0,z.__views.__alloyId18=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",right:"1%",top:"33%",width:"31%",title:"3",id:"__alloyId18"}),z.__views.__alloyId15.add(z.__views.__alloyId18),A?z.__views.__alloyId18.addEventListener("click",A):F["$.__views.__alloyId18!click!botao3"]=!0,z.__views.__alloyId19=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",left:"1%",top:"17%",width:"31%",title:"4",id:"__alloyId19"}),z.__views.__alloyId15.add(z.__views.__alloyId19),L?z.__views.__alloyId19.addEventListener("click",L):F["$.__views.__alloyId19!click!botao4"]=!0,z.__views.__alloyId20=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",top:"17%",width:"31%",title:"5",id:"__alloyId20"}),z.__views.__alloyId15.add(z.__views.__alloyId20),x?z.__views.__alloyId20.addEventListener("click",x):F["$.__views.__alloyId20!click!botao5"]=!0,z.__views.__alloyId21=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",right:"1%",top:"17%",width:"31%",title:"6",id:"__alloyId21"}),z.__views.__alloyId15.add(z.__views.__alloyId21),S?z.__views.__alloyId21.addEventListener("click",S):F["$.__views.__alloyId21!click!botao6"]=!0,z.__views.__alloyId22=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",left:"1%",top:"1%",width:"31%",title:"7",id:"__alloyId22"}),z.__views.__alloyId15.add(z.__views.__alloyId22),k?z.__views.__alloyId22.addEventListener("click",k):F["$.__views.__alloyId22!click!botao7"]=!0,z.__views.__alloyId23=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",top:"1%",width:"31%",title:"8",id:"__alloyId23"}),z.__views.__alloyId15.add(z.__views.__alloyId23),U?z.__views.__alloyId23.addEventListener("click",U):F["$.__views.__alloyId23!click!botao8"]=!0,z.__views.__alloyId24=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",right:"1%",top:"1%",width:"31%",title:"9",id:"__alloyId24"}),z.__views.__alloyId15.add(z.__views.__alloyId24),R?z.__views.__alloyId24.addEventListener("click",R):F["$.__views.__alloyId24!click!botao9"]=!0,z.__views.__alloyId25=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#d9534f","#e5302a"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",left:"1%",top:"49%",width:"31%",title:"OK",id:"__alloyId25"}),z.__views.__alloyId15.add(z.__views.__alloyId25),r?z.__views.__alloyId25.addEventListener("click",r):F["$.__views.__alloyId25!click!botaoOk"]=!0,z.__views.__alloyId26=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",top:"49%",width:"31%",title:"0",id:"__alloyId26"}),z.__views.__alloyId15.add(z.__views.__alloyId26),C?z.__views.__alloyId26.addEventListener("click",C):F["$.__views.__alloyId26!click!botao0"]=!0,z.__views.sortido=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",height:"15%",right:"1%",top:"49%",width:"31%",id:"sortido"}),z.__views.__alloyId15.add(z.__views.sortido),n?z.__views.sortido.addEventListener("click",n):F["$.__views.sortido!click!botaoSortir"]=!0,z.__views.__alloyId27=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"QTDE. SORTIDA",id:"__alloyId27"}),z.__views.sortido.add(z.__views.__alloyId27),z.__views.__alloyId28=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#d9534f","#e5302a"]},borderRadius:"5",color:"#ffffff",height:"15%",left:"1%",top:"65%",width:"31%",id:"__alloyId28"}),z.__views.__alloyId15.add(z.__views.__alloyId28),P?z.__views.__alloyId28.addEventListener("click",P):F["$.__views.__alloyId28!click!botaoLimpa"]=!0,z.__views.__alloyId29=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"LIMPAR",id:"__alloyId29"}),z.__views.__alloyId28.add(z.__views.__alloyId29),z.__views.__alloyId30=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",font:{fontSize:12},height:"15%",top:"65%",width:"31%",id:"__alloyId30"}),z.__views.__alloyId15.add(z.__views.__alloyId30),O?z.__views.__alloyId30.addEventListener("click",O):F["$.__views.__alloyId30!click!botaoLista"]=!0,z.__views.__alloyId31=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"LISTAR PROD.",id:"__alloyId31"}),z.__views.__alloyId30.add(z.__views.__alloyId31),z.__views.__alloyId32=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#d9534f","#e5302a"]},borderRadius:"5",color:"#ffffff",font:{fontSize:12},height:"15%",right:"1%",top:"65%",width:"31%",id:"__alloyId32"}),z.__views.__alloyId15.add(z.__views.__alloyId32),M?z.__views.__alloyId32.addEventListener("click",M):F["$.__views.__alloyId32!click!botaoZera"]=!0,z.__views.__alloyId33=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"ZERAR",id:"__alloyId33"}),z.__views.__alloyId32.add(z.__views.__alloyId33),z.__views.__alloyId34=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",font:{fontSize:12},height:"18%",left:"1%",top:"81%",width:"48%",id:"__alloyId34"}),z.__views.__alloyId15.add(z.__views.__alloyId34),D?z.__views.__alloyId34.addEventListener("click",D):F["$.__views.__alloyId34!click!botaoAnterior"]=!0,z.__views.__alloyId35=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"PRODUTO ANTERIOR SELECIONADO",id:"__alloyId35"}),z.__views.__alloyId34.add(z.__views.__alloyId35),z.__views.__alloyId36=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",font:{fontSize:12},height:"18%",right:"1%",top:"81%",width:"48%",id:"__alloyId36"}),z.__views.__alloyId15.add(z.__views.__alloyId36),G?z.__views.__alloyId36.addEventListener("click",G):F["$.__views.__alloyId36!click!botaoProximo"]=!0,z.__views.__alloyId37=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"PRÓXIMO PRODUTO SELECIONADO",id:"__alloyId37"}),z.__views.__alloyId36.add(z.__views.__alloyId37),z.__views.__alloyId38=Ti.UI.createLabel({backgroundColor:"#ffffff",borderColor:"#000000",borderWidth:"1",color:"#000000",font:{fontSize:12},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,height:"6%",left:"3%",top:"63%",width:"40%",text:"Nº de peças desta ref.:",id:"__alloyId38"}),z.__views.__alloyId13.add(z.__views.__alloyId38),z.__views.pecasref=Ti.UI.createButton({backgroundColor:"#000000",borderColor:"#ffffff",borderWidth:"1",color:"#ffffff",height:"6%",right:"3%",top:"63%",width:"54%",title:"0",id:"pecasref"}),z.__views.__alloyId13.add(z.__views.pecasref),z.__views.__alloyId39=Ti.UI.createLabel({backgroundColor:"#ffffff",borderColor:"#000000",borderWidth:"1",color:"#000000",font:{fontSize:12},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,height:"6%",left:"3%",top:"69%",width:"40%",text:"Valor desta ref.:",id:"__alloyId39"}),z.__views.__alloyId13.add(z.__views.__alloyId39),z.__views.valorref=Ti.UI.createButton({backgroundColor:"#000000",borderColor:"#ffffff",borderWidth:"1",color:"#ffffff",height:"6%",right:"3%",top:"69%",width:"54%",title:"R$ 0,00",id:"valorref"}),z.__views.__alloyId13.add(z.__views.valorref),z.__views.__alloyId40=Ti.UI.createLabel({backgroundColor:"#ffffff",borderColor:"#000000",borderWidth:"1",color:"#000000",font:{fontSize:12},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,height:"6%",left:"3%",top:"76%",width:"40%",text:"Nº de peças acumuladas:",id:"__alloyId40"}),z.__views.__alloyId13.add(z.__views.__alloyId40),z.__views.pecastotal=Ti.UI.createButton({backgroundColor:"#000000",borderColor:"#ffffff",borderWidth:"1",color:"#ffffff",height:"6%",right:"3%",top:"76%",width:"54%",title:"0",id:"pecastotal"}),z.__views.__alloyId13.add(z.__views.pecastotal),z.__views.__alloyId41=Ti.UI.createLabel({backgroundColor:"#ffffff",borderColor:"#000000",borderWidth:"1",color:"#000000",font:{fontSize:12},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,height:"6%",left:"3%",top:"82%",width:"40%",text:"Valor acumulado:",id:"__alloyId41"}),z.__views.__alloyId13.add(z.__views.__alloyId41),z.__views.valortotal=Ti.UI.createButton({backgroundColor:"#000000",borderColor:"#ffffff",borderWidth:"1",color:"#ffffff",height:"6%",right:"3%",top:"82%",width:"54%",title:"R$ 0,00",id:"valortotal"}),z.__views.__alloyId13.add(z.__views.valortotal),z.__views.__alloyId42=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",bottom:"1%",color:"#ffffff",font:{fontSize:14},height:"10%",right:"3%",width:"46%",id:"__alloyId42"}),z.__views.__alloyId13.add(z.__views.__alloyId42),I?z.__views.__alloyId42.addEventListener("click",I):F["$.__views.__alloyId42!click!goToCatalogo"]=!0,z.__views.__alloyId43=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"VOLTAR CATEGORIAS",id:"__alloyId43"}),z.__views.__alloyId42.add(z.__views.__alloyId43),z.__views.__alloyId44=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",bottom:"1%",height:"10%",left:"3%",width:"46%",id:"__alloyId44"}),z.__views.__alloyId13.add(z.__views.__alloyId44),v?z.__views.__alloyId44.addEventListener("click",v):F["$.__views.__alloyId44!click!goToPedido"]=!0,z.__views.__alloyId45=Ti.UI.createImageView({height:"50%",image:"/images/carrinho.png",id:"__alloyId45"}),z.__views.__alloyId44.add(z.__views.__alloyId45),v?z.__views.__alloyId45.addEventListener("click",v):F["$.__views.__alloyId45!click!goToPedido"]=!0,z.__views.produtos=Ti.UI.createView({backgroundColor:"white",top:5,bottom:5,height:"100%",right:"-20%",width:"20%",borderColor:"#008382",borderWidth:"1",id:"produtos"}),z.__views.calculadora.add(z.__views.produtos),z.__views.__alloyId46=Ti.UI.createLabel({backgroundColor:"#008382",color:"white",top:0,width:"100%",height:"5%",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Lista de Produtos",id:"__alloyId46"}),z.__views.produtos.add(z.__views.__alloyId46),z.__views.listaprodutos=Ti.UI.createView({width:"100%",heigth:"85%",top:"6%",layout:"vertical",id:"listaprodutos"}),z.__views.produtos.add(z.__views.listaprodutos),z.__views.__alloyId47=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"5%",bottom:"2%",right:"5%",width:"40%",title:"Voltar",id:"__alloyId47"}),z.__views.produtos.add(z.__views.__alloyId47),B?z.__views.__alloyId47.addEventListener("click",B):F["$.__views.__alloyId47!click!fecharLista"]=!0,$.destroy=function(){},_.extend(z,z.__views),arguments[0]||{},Ti.include("/api/config.js"),Ti.include("/database/aparencia.js"),Ti.include("/database/clientes.js"),Ti.include("/database/produtos.js"),Ti.include("/database/aparencia.js"),Ti.include("/database/carrinho.js"),Ti.include("/database/imagens_produtos.js"),Ti.include("/database/informacao_produto.js");var W=1,Y=1,j=Ti.App.Properties.getString(CURRENT_EMPRESA),H=Ti.App.Properties.getList(SELECTED_PRODUCTS);Ti.App.Properties.getList(CURRENT_USER_ID);var p,y,X,T,q,J,K,Q,Z,et,tt,it,ot=Ti.App.Properties.getList(SELECTED_CLIENTS),at=1,rt=ot[0],lt=0,_t=[],nt=[],st=[],dt=[],ct=[],ft=[],ht=[],ut=[],It=!1,vt=0,pt=0,yt=!1,wt=!1,gt=0,Tt=0,mt=0,Et=0;z.logoEmpresa.image=getImagesFolder()+selectLogoFile(),z.apaga.title="<<",e(),V(),z.pagina_final.text=H.length;var bt=0,Nt=0,At=consultaCredito(ot[0]);At.isValidRow()&&(bt=At.fieldByName("cl_valor_minimo"),Nt=At.fieldByName("cl_credito_total")-At.fieldByName("cl_credito_utilizado")),z.informacoes.font={fontSize:13},z.referencia.font={fontSize:13},z.nome.font={fontSize:13},z.colecao.font={fontSize:13},z.composicao.font={fontSize:13},z.preco.font={fontSize:13},z.prazo.font={fontSize:13},F["$.__views.__alloyId7!click!informacoes"]&&z.__views.__alloyId7.addEventListener("click",p),F["$.__views.__alloyId8!click!composicao"]&&z.__views.__alloyId8.addEventListener("click",y),F["$.__views.__alloyId9!click!precotroca"]&&z.__views.__alloyId9.addEventListener("click",w),F["$.__views.__alloyId10!click!prazo"]&&z.__views.__alloyId10.addEventListener("click",g),F["$.__views.__alloyId11!click!descricao"]&&z.__views.__alloyId11.addEventListener("click",T),F["$.__views.__alloyId12!click!codbarras"]&&z.__views.__alloyId12.addEventListener("click",m),F["$.__views.apaga!click!apaga"]&&z.__views.apaga.addEventListener("click",E),F["$.__views.__alloyId16!click!botao1"]&&z.__views.__alloyId16.addEventListener("click",b),F["$.__views.__alloyId17!click!botao2"]&&z.__views.__alloyId17.addEventListener("click",N),F["$.__views.__alloyId18!click!botao3"]&&z.__views.__alloyId18.addEventListener("click",A),F["$.__views.__alloyId19!click!botao4"]&&z.__views.__alloyId19.addEventListener("click",L),F["$.__views.__alloyId20!click!botao5"]&&z.__views.__alloyId20.addEventListener("click",x),F["$.__views.__alloyId21!click!botao6"]&&z.__views.__alloyId21.addEventListener("click",S),F["$.__views.__alloyId22!click!botao7"]&&z.__views.__alloyId22.addEventListener("click",k),F["$.__views.__alloyId23!click!botao8"]&&z.__views.__alloyId23.addEventListener("click",U),F["$.__views.__alloyId24!click!botao9"]&&z.__views.__alloyId24.addEventListener("click",R),F["$.__views.__alloyId25!click!botaoOk"]&&z.__views.__alloyId25.addEventListener("click",r),F["$.__views.__alloyId26!click!botao0"]&&z.__views.__alloyId26.addEventListener("click",C),F["$.__views.sortido!click!botaoSortir"]&&z.__views.sortido.addEventListener("click",n),F["$.__views.__alloyId28!click!botaoLimpa"]&&z.__views.__alloyId28.addEventListener("click",P),F["$.__views.__alloyId30!click!botaoLista"]&&z.__views.__alloyId30.addEventListener("click",O),F["$.__views.__alloyId32!click!botaoZera"]&&z.__views.__alloyId32.addEventListener("click",M),F["$.__views.__alloyId34!click!botaoAnterior"]&&z.__views.__alloyId34.addEventListener("click",D),F["$.__views.__alloyId36!click!botaoProximo"]&&z.__views.__alloyId36.addEventListener("click",G),F["$.__views.__alloyId42!click!goToCatalogo"]&&z.__views.__alloyId42.addEventListener("click",I),F["$.__views.__alloyId44!click!goToPedido"]&&z.__views.__alloyId44.addEventListener("click",v),F["$.__views.__alloyId45!click!goToPedido"]&&z.__views.__alloyId45.addEventListener("click",v),F["$.__views.__alloyId47!click!fecharLista"]&&z.__views.__alloyId47.addEventListener("click",B),_.extend(z,$)
}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;