function __processArg(e,i){var t=null;return e&&(t=e[i]||null,delete e[i]),t}function Controller(){function e(){n.paginacao.title=g+"/"+T;var e,i,t,o,a=0,l="null",_=(g-1)*y,r=selectProductsByPage(v,p,h,_,y);for(n.gradeA.hide();r.isValidRow();){switch(a){case 0:n.gradeA.show(),e=n.precoA,o=n.tempoA,i=n.selecionaA,l=n.referenciaA,t=n.imagemA}loadItems(w,r,l,e,o,i,t,n.imagesA,n.quantidade),a++,r.next()}r.close()}function i(){listProdutos()}function t(){var e=Ti.UI.createAlertDialog({buttonNames:["Confirmar","Cancelar"],destructive:2,title:"Desmarcar itens",message:"Essa opcao ira desmarcar todos os itens selecionados em todas as paginas!"});e.show(),e.addEventListener("click",function(e){0==e.index?categoryClear(n.quantidade):alert("Continue comprando")})}function o(){categoryVoltar()}function a(){g--,0>=g&&(g=T),cleanImages(),e()}function l(){g++,g>T&&(g=1),cleanImages(),e()}function r(){g=1,cleanImages(),e()}function d(){g=T,cleanImages(),e()}function s(){categoryCesta()}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="vitrine_um_horizontal",this.args=arguments[0]||{},arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var n=this,c={},I={};n.__views.win=Ti.UI.createView({backgroundColor:"#ffffff",id:"win"}),n.__views.win&&n.addTopLevelView(n.__views.win),n.__views.__alloyId1645=Ti.UI.createView({height:"90%",top:"0",id:"__alloyId1645"}),n.__views.win.add(n.__views.__alloyId1645),n.__views.gradeA=Ti.UI.createView({backgroundColor:"#dddddd",bottom:"0",height:"98%",width:"98%",id:"gradeA"}),n.__views.__alloyId1645.add(n.__views.gradeA),n.__views.__alloyId1646=Ti.UI.createView({backgroundColor:"#ffffff",height:"86%",top:"1.5%",width:"98%",id:"__alloyId1646"}),n.__views.gradeA.add(n.__views.__alloyId1646),n.__views.imagemA=Ti.UI.createImageView({width:"100%",id:"imagemA"}),n.__views.__alloyId1646.add(n.__views.imagemA),n.__views.__alloyId1647=Ti.UI.createView({height:"8.8%",top:"89%",width:"98%",layout:"horizontal",id:"__alloyId1647"}),n.__views.gradeA.add(n.__views.__alloyId1647),n.__views.precoA=Ti.UI.createLabel({backgroundColor:"#ffffff",color:"#000000",height:"100%",left:"0",width:"10%",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,id:"precoA"}),n.__views.__alloyId1647.add(n.__views.precoA),n.__views.referenciaA=Ti.UI.createLabel({backgroundColor:"#ffffff",color:"#000000",height:"100%",left:3,width:"10%",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,id:"referenciaA"}),n.__views.__alloyId1647.add(n.__views.referenciaA),n.__views.tempoA=Ti.UI.createButton({backgroundColor:"#000000",color:"#ffffff",height:"100%",left:3,width:"7%",font:{fontSize:13},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,id:"tempoA"}),n.__views.__alloyId1647.add(n.__views.tempoA),n.__views.selecionaA=Ti.UI.createImageView({height:"100%",left:3,zIndex:10,id:"selecionaA"}),n.__views.__alloyId1647.add(n.__views.selecionaA),n.__views.imagesA=Ti.UI.createView({left:3,height:"100%",width:"400dp",id:"imagesA"}),n.__views.__alloyId1647.add(n.__views.imagesA),n.__views.__alloyId1648=Ti.UI.createView({height:"10%",left:"0%",top:"90%",width:"100%",id:"__alloyId1648"}),n.__views.win.add(n.__views.__alloyId1648),n.__views.__alloyId1649=Ti.UI.createView({height:"100%",left:"0",width:"25%",id:"__alloyId1649"}),n.__views.__alloyId1648.add(n.__views.__alloyId1649),n.__views.botaoQuatroVerticais=Ti.UI.createButton({backgroundColor:"#008382",borderRadius:"5",color:"#ffffff",height:"60%",left:"5%",width:"45%",title:"Limpar todas marcações",id:"botaoQuatroVerticais"}),n.__views.__alloyId1649.add(n.__views.botaoQuatroVerticais),t?n.__views.botaoQuatroVerticais.addEventListener("click",t):I["$.__views.botaoQuatroVerticais!click!limpar"]=!0,n.__views.__alloyId1650=Ti.UI.createButton({backgroundColor:"#008382",borderRadius:"5",color:"#ffffff",height:"60%",left:"55%",width:"45%",title:"Voltar",id:"__alloyId1650"}),n.__views.__alloyId1649.add(n.__views.__alloyId1650),o?n.__views.__alloyId1650.addEventListener("click",o):I["$.__views.__alloyId1650!click!voltar"]=!0,n.__views.__alloyId1651=Ti.UI.createView({height:"100%",left:"25%",width:"50%",id:"__alloyId1651"}),n.__views.__alloyId1648.add(n.__views.__alloyId1651),n.__views.__alloyId1652=Ti.UI.createImageView({image:"/images/primeiro.png",height:"60%",left:"2%",width:"12%",id:"__alloyId1652"}),n.__views.__alloyId1651.add(n.__views.__alloyId1652),r?n.__views.__alloyId1652.addEventListener("click",r):I["$.__views.__alloyId1652!click!primeiro"]=!0,n.__views.__alloyId1653=Ti.UI.createImageView({image:"/images/anterior.png",height:"60%",left:"16%",width:"12%",id:"__alloyId1653"}),n.__views.__alloyId1651.add(n.__views.__alloyId1653),a?n.__views.__alloyId1653.addEventListener("click",a):I["$.__views.__alloyId1653!click!anterior"]=!0,n.__views.paginacao=Ti.UI.createButton({backgroundColor:"#ffffff",borderColor:"#cdcdcd",borderWidth:"1",color:"#008382",height:"60%",left:"30%",width:"20%",title:"1/1",id:"paginacao"}),n.__views.__alloyId1651.add(n.__views.paginacao),n.__views.__alloyId1654=Ti.UI.createImageView({image:"/images/proximo.png",height:"60%",left:"52%",width:"12%",id:"__alloyId1654"}),n.__views.__alloyId1651.add(n.__views.__alloyId1654),l?n.__views.__alloyId1654.addEventListener("click",l):I["$.__views.__alloyId1654!click!proximo"]=!0,n.__views.__alloyId1655=Ti.UI.createImageView({image:"/images/ultimo.png",height:"60%",left:"66%",width:"12%",id:"__alloyId1655"}),n.__views.__alloyId1651.add(n.__views.__alloyId1655),d?n.__views.__alloyId1655.addEventListener("click",d):I["$.__views.__alloyId1655!click!ultimo"]=!0,n.__views.__alloyId1656=Ti.UI.createImageView({image:"/images/lupa.png",height:"60%",left:"79%",width:"12%",id:"__alloyId1656"}),n.__views.__alloyId1651.add(n.__views.__alloyId1656),i?n.__views.__alloyId1656.addEventListener("click",i):I["$.__views.__alloyId1656!click!goToListaProdutos"]=!0,n.__views.__alloyId1657=Ti.UI.createView({height:"100%",right:"0%",width:"25%",id:"__alloyId1657"}),n.__views.__alloyId1648.add(n.__views.__alloyId1657),n.__views.__alloyId1658=Ti.UI.createImageView({image:"/images/cesta.png",height:"60%",right:"0%",width:"75%",id:"__alloyId1658"}),n.__views.__alloyId1657.add(n.__views.__alloyId1658),s?n.__views.__alloyId1658.addEventListener("click",s):I["$.__views.__alloyId1658!click!cesta"]=!0,n.__views.quantidade=Ti.UI.createButton({backgroundColor:"#ffffff",borderColor:"#cdcdcd",borderWidth:"1",color:"#ff0000",height:"60%",left:"0%",width:"20%",title:"0",id:"quantidade"}),n.__views.__alloyId1657.add(n.__views.quantidade),c.destroy=function(){},_.extend(n,n.__views),Ti.include("/api/config.js"),Ti.include("/api/category_render.js"),Ti.include("/database/produtos.js"),Ti.include("/database/imagens_produtos.js");var f=arguments[0]||{},p=f.marca||0,h=f.cat_id||0,w=f.template||0,g=1,y=1,v=Ti.App.Properties.getString(CURRENT_EMPRESA),u=selectProductsCount(h,p,v),T=Math.ceil(u/y);e();var b=function(){Ti.App.removeEventListener("removeBitmap",b),Ti.API.info("Um horizontal"),cleanImages()};Ti.App.addEventListener("removeBitmap",b),I["$.__views.botaoQuatroVerticais!click!limpar"]&&n.__views.botaoQuatroVerticais.addEventListener("click",t),I["$.__views.__alloyId1650!click!voltar"]&&n.__views.__alloyId1650.addEventListener("click",o),I["$.__views.__alloyId1652!click!primeiro"]&&n.__views.__alloyId1652.addEventListener("click",r),I["$.__views.__alloyId1653!click!anterior"]&&n.__views.__alloyId1653.addEventListener("click",a),I["$.__views.__alloyId1654!click!proximo"]&&n.__views.__alloyId1654.addEventListener("click",l),I["$.__views.__alloyId1655!click!ultimo"]&&n.__views.__alloyId1655.addEventListener("click",d),I["$.__views.__alloyId1656!click!goToListaProdutos"]&&n.__views.__alloyId1656.addEventListener("click",i),I["$.__views.__alloyId1658!click!cesta"]&&n.__views.__alloyId1658.addEventListener("click",s),_.extend(n,c)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;