function __processArg(e,i){var t=null;return e&&(t=e[i]||null,delete e[i]),t}function Controller(){function e(e){if(Ti.API.info(e.itemIndex),1==e.itemIndex||2==e.itemIndex||3==e.itemIndex||4==e.itemIndex)if(Ti.App.Properties.getList(SELECTED_CLIENTS)){for(var i=Ti.App.Properties.getList(SELECTED_CLIENTS),t=0;t<i.length;t++);0==t?alert("É necessário a seleção de um cliente ou mais para seguir em diante!"):menuSelection(e.itemIndex)}else alert("É necessário a seleção de um cliente ou mais para seguir em diante!");else menuSelection(e.itemIndex)}function i(){if(0!=d.buscaRazao.value.length){var e=d.buscaRazao.value;N=selectClientesByRazao(e),o(N)}else if(0!=d.buscaCnpj.value.length){var e=d.buscaCnpj.value;N=selectClientesByCnpj(e),o(N)}else if(0!=d.buscaErp.value.length){var e=d.buscaErp.value;N=selectClientesByErp(e),o(N)}else alert("Favor preencher o campo de busca")}function t(){Titanium.UI.currentWindow;var e,e=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],i=Titanium.UI.createOptionDialog({options:e,destructive:2,cancel:0,title:"Buscar por ordem alfabética"});i.show(),i.addEventListener("click",function(i){var t=selectClientesByAlfabetica(e[i.index]);o(t)})}function o(e){var i=[];if(Ti.App.Properties.getList(SELECTED_CLIENTS))for(var t=Ti.App.Properties.getList(SELECTED_CLIENTS),o=0;o<t.length;o++)i[t[o]]=0==o&&3!=Ti.App.Properties.getString(CURRENT_SOFTWARE)?"clientes_base":"clientes_selecionado";for(var a=[];e.isValidRow();){var l=e.fieldByName("cl_id"),_=e.fieldByName("cl_razao"),r=e.fieldByName("cl_cnpj"),s=e.fieldByName("cl_bairro_unid"),n=e.fieldByName("cl_cidade_unid");Ti.API.info(_),i[l]||(i[l]="clientes_naoselecionado");var c;c="11%",a.push({cl_id:l,label_razao:{text:_},label_cnpj:{text:r},label_bairro:{text:s},label_cidade:{text:n},btn_selecionar:{width:c},template:i[l]}),e.next()}d.listaClientes.sections[0].setItems(a)}function a(e){var i=d.listaClientes.sections[e.sectionIndex],t=i.getItemAt(e.itemIndex),o=t.cl_id,a=addSelectedClients(o);"amarelo"==a?(t.template="clientes_base",i.updateItemAt(e.itemIndex,t)):"vermelho"==a&&(t.template="clientes_selecionado",i.updateItemAt(e.itemIndex,t),Ti.API.info(getSelectedClients()))}function l(e){var i=d.listaClientes.sections[e.sectionIndex],t=i.getItemAt(e.itemIndex),o=t.cl_id;delSelectedClients(o),t.template="clientes_naoselecionado",i.updateItemAt(e.itemIndex,t)}function r(e){for(var i=d.listaClientes.sections[e.sectionIndex],t=i.getItemAt(e.itemIndex),o=t.cl_id,a=Ti.App.Properties.getList(SELECTED_CLIENTS),l=0;l<a.length;l++);1==l&&(delSelectedClients(o),t.template="clientes_naoselecionado",i.updateItemAt(e.itemIndex,t))}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="seleciona_cliente",this.args=arguments[0]||{},arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var d=this,s={},n={};d.__views.seleciona_cliente=Ti.UI.createWindow({backgroundColor:"#ffffff",id:"seleciona_cliente"}),d.__views.seleciona_cliente&&d.addTopLevelView(d.__views.seleciona_cliente);var c={},p=[],f={type:"Ti.UI.View",childTemplates:function(){var e=[],i={type:"Ti.UI.Label",bindId:"btnmenu",properties:{touchEnabled:"false",width:"98%",color:"white",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,bindId:"btnmenu"}};return e.push(i),e}(),properties:{backgroundColor:"#3f3a35",borderColor:"#9ccccb",borderWidth:"4",color:"#ffffff",height:"94",top:"10",width:"90%"},events:{click:e}};p.push(f);var I={properties:{height:"112dp",name:"menuTemplate"},childTemplates:p};c.menuTemplate=I;var h=[];d.__views.__alloyId1317={btnmenu:{text:"CNPJ/\n RAZÃO SOCIAL/\n ENDEREÇO LOJA"},properties:{id:"__alloyId1317"}},h.push(d.__views.__alloyId1317),d.__views.__alloyId1318={btnmenu:{text:"ANÁLISE DE \n CRÉDITO"},properties:{id:"__alloyId1318"}},h.push(d.__views.__alloyId1318),d.__views.__alloyId1319={btnmenu:{text:"IR AO\n CATÁLOGO"},properties:{id:"__alloyId1319"}},h.push(d.__views.__alloyId1319),d.__views.__alloyId1320={btnmenu:{text:"PEDIDOS"},properties:{id:"__alloyId1320"}},h.push(d.__views.__alloyId1320),d.__views.__alloyId1321={btnmenu:{text:"TRANSPORTADORA"},properties:{id:"__alloyId1321"}},h.push(d.__views.__alloyId1321),d.__views.__alloyId1322={btnmenu:{text:"NOVO CLIENTE"},properties:{id:"__alloyId1322"}},h.push(d.__views.__alloyId1322),d.__views.__alloyId1323={btnmenu:{text:"FUNÇÕES"},properties:{id:"__alloyId1323"}},h.push(d.__views.__alloyId1323),d.__views.__alloyId1324={btnmenu:{text:"EMAIL"},properties:{id:"__alloyId1324"}},h.push(d.__views.__alloyId1324),d.__views.__alloyId1325={btnmenu:{text:"VOLTAR PARA TELA INICIAL"},properties:{id:"__alloyId1325"}},h.push(d.__views.__alloyId1325),d.__views.__alloyId1326={btnmenu:{text:"TROCAR\n MARCA"},properties:{id:"__alloyId1326"}},h.push(d.__views.__alloyId1326),d.__views.__alloyId1327={btnmenu:{text:"SAIR"},properties:{id:"__alloyId1327"}},h.push(d.__views.__alloyId1327),d.__views.__alloyId1314=Ti.UI.createListSection({id:"__alloyId1314"}),d.__views.__alloyId1314.items=h;var g=[];g.push(d.__views.__alloyId1314),d.__views.__alloyId1304=Ti.UI.createListView({backgroundColor:"#ebf7f6",height:"100%",left:"0",width:"15%",sections:g,templates:c,defaultItemTemplate:"menuTemplate",id:"__alloyId1304"}),d.__views.seleciona_cliente.add(d.__views.__alloyId1304),d.__views.__alloyId1329=Ti.UI.createView({height:"100%",right:"0",width:"85%",id:"__alloyId1329"}),d.__views.seleciona_cliente.add(d.__views.__alloyId1329),d.__views.__alloyId1330=Ti.UI.createView({height:"90",top:"0",width:"98%",id:"__alloyId1330"}),d.__views.__alloyId1329.add(d.__views.__alloyId1330),d.__views.__alloyId1331=Ti.UI.createView({height:"90%",left:"0",width:"15%",id:"__alloyId1331"}),d.__views.__alloyId1330.add(d.__views.__alloyId1331),d.__views.logoEmpresa=Ti.UI.createImageView({image:"/images/logo_rodape.jpg",left:"0",id:"logoEmpresa"}),d.__views.__alloyId1331.add(d.__views.logoEmpresa),d.__views.__alloyId1332=Ti.UI.createButton({backgroundColor:"#FFFFFF",color:"#4e8789",height:"90",left:"15%",width:"70%",title:"CNPJ / RAZÃO SOCIAL / ENDEREÇO LOJA",id:"__alloyId1332"}),d.__views.__alloyId1330.add(d.__views.__alloyId1332),d.__views.__alloyId1333=Ti.UI.createView({height:"90",left:"85%",width:"15%",id:"__alloyId1333"}),d.__views.__alloyId1330.add(d.__views.__alloyId1333),d.__views.__alloyId1334=Ti.UI.createImageView({image:"/images/logo_rodape.jpg",right:"0",id:"__alloyId1334"}),d.__views.__alloyId1333.add(d.__views.__alloyId1334),d.__views.__alloyId1335=Ti.UI.createView({borderColor:"#4e8789",borderWidth:"4",top:"90",width:"98%",id:"__alloyId1335"}),d.__views.__alloyId1329.add(d.__views.__alloyId1335),d.__views.__alloyId1336=Ti.UI.createView({borderColor:"#4e8789",borderWidth:"4",height:"130",top:"0",width:"100%",id:"__alloyId1336"}),d.__views.__alloyId1335.add(d.__views.__alloyId1336),d.__views.__alloyId1337=Ti.UI.createView({height:"130",left:"1%",width:"92%",id:"__alloyId1337"}),d.__views.__alloyId1336.add(d.__views.__alloyId1337),d.__views.buscaRazao=Ti.UI.createTextField({borderColor:"#6EA9A0",borderRadius:"5",borderWidth:"4",color:"#000000",height:"50",left:"0",top:"10",width:"49%",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,id:"buscaRazao",hintText:"BUSCAR POR RAZÃO SOCIAL"}),d.__views.__alloyId1337.add(d.__views.buscaRazao),d.__views.buscaCnpj=Ti.UI.createTextField({borderColor:"#6EA9A0",borderRadius:"5",borderWidth:"4",color:"#000000",height:"50",left:"50%",top:"10",width:"49%",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,id:"buscaCnpj",hintText:"BUSCAR POR CNPJ"}),d.__views.__alloyId1337.add(d.__views.buscaCnpj),d.__views.buscaErp=Ti.UI.createTextField({borderColor:"#6EA9A0",borderRadius:"5",borderWidth:"4",color:"#000000",height:"50",left:"0",top:"70",width:"49%",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,id:"buscaErp",hintText:"BUSCAR POR CÓDIGO DO ERP"}),d.__views.__alloyId1337.add(d.__views.buscaErp),d.__views.__alloyId1338=Ti.UI.createButton({backgroundColor:"#ffffff",borderColor:"#6EA9A0",borderRadius:"5",borderWidth:"4",color:"#000000",height:"50",left:"50%",top:"70",width:"49%",title:"BUSCAR POR ORDEM ALFABÉTICA",id:"__alloyId1338"}),d.__views.__alloyId1337.add(d.__views.__alloyId1338),t?d.__views.__alloyId1338.addEventListener("click",t):n["$.__views.__alloyId1338!click!buscaAlfabetica"]=!0,d.__views.__alloyId1339=Ti.UI.createView({height:"130",left:"92%",top:"0",width:"7%",id:"__alloyId1339"}),d.__views.__alloyId1336.add(d.__views.__alloyId1339),d.__views.__alloyId1340=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",height:"110",top:"10",width:"80%",color:"white",title:"Ir",id:"__alloyId1340"}),d.__views.__alloyId1339.add(d.__views.__alloyId1340),i?d.__views.__alloyId1340.addEventListener("click",i):n["$.__views.__alloyId1340!click!buscaCliente"]=!0,d.__views.__alloyId1341=Ti.UI.createView({height:"70%",top:"220",width:"98%",id:"__alloyId1341"}),d.__views.__alloyId1329.add(d.__views.__alloyId1341);var y={},u=[],w={type:"Ti.UI.View",childTemplates:function(){var e=[],i={type:"Ti.UI.View",childTemplates:function(){var e=[],i={type:"Ti.UI.Label",bindId:"label_razao",properties:{color:"#000000",height:"100%",textAlign:Ti.UI.TEXT_ALIGNMENT_LEFT,width:"98%",bindId:"label_razao"}};return e.push(i),e}(),properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",width:"38%"}};e.push(i);var t={type:"Ti.UI.Label",bindId:"label_cnpj",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",width:"20%",bindId:"label_cnpj"}};e.push(t);var o={type:"Ti.UI.Label",bindId:"label_bairro",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",width:"15%",bindId:"label_bairro"}};e.push(o);var l={type:"Ti.UI.Label",bindId:"label_cidade",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",width:"15%",bindId:"label_cidade"}};e.push(l);var _={type:"Ti.UI.Button",bindId:"btn_selecionar",properties:{backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",left:"1%",width:"11%",height:"95%",color:"#ffffff",bindId:"btn_selecionar",title:"Selecionar"},events:{click:a}};return e.push(_),e}(),properties:{layout:"horizontal"}};u.push(w);var T={properties:{height:"50",top:"6",width:"98%",name:"clientes_naoselecionado"},childTemplates:u};y.clientes_naoselecionado=T;var v=[],b={type:"Ti.UI.View",childTemplates:function(){var e=[],i={type:"Ti.UI.View",childTemplates:function(){var e=[],i={type:"Ti.UI.Label",bindId:"label_razao",properties:{color:"#000000",height:"100%",textAlign:Ti.UI.TEXT_ALIGNMENT_LEFT,width:"98%",bindId:"label_razao"}};return e.push(i),e}(),properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",width:"38%"}};e.push(i);var t={type:"Ti.UI.Label",bindId:"label_cnpj",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",width:"20%",bindId:"label_cnpj"}};e.push(t);var o={type:"Ti.UI.Label",bindId:"label_bairro",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",width:"15%",bindId:"label_bairro"}};e.push(o);var a={type:"Ti.UI.Label",bindId:"label_cidade",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",width:"15%",bindId:"label_cidade"}};e.push(a);var _={type:"Ti.UI.Button",bindId:"btn_selecionar",properties:{backgroundGradient:{type:"linear",colors:["#d9534f","#e5302a"]},borderRadius:"5",left:"1%",width:"11%",height:"95%",color:"white",bindId:"btn_selecionar",title:"Selecionar"},events:{click:l}};return e.push(_),e}(),properties:{layout:"horizontal"}};v.push(b);var m={properties:{height:"50",top:"6",width:"98%",name:"clientes_selecionado"},childTemplates:v};y.clientes_selecionado=m;var E=[],C={type:"Ti.UI.View",childTemplates:function(){var e=[],i={type:"Ti.UI.View",childTemplates:function(){var e=[],i={type:"Ti.UI.Label",bindId:"label_razao",properties:{color:"#000000",height:"100%",textAlign:Ti.UI.TEXT_ALIGNMENT_LEFT,width:"98%",bindId:"label_razao"}};return e.push(i),e}(),properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",width:"38%"}};e.push(i);var t={type:"Ti.UI.Label",bindId:"label_cnpj",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",width:"20%",bindId:"label_cnpj"}};e.push(t);var o={type:"Ti.UI.Label",bindId:"label_bairro",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",width:"15%",bindId:"label_bairro"}};e.push(o);var a={type:"Ti.UI.Label",bindId:"label_cidade",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",width:"15%",bindId:"label_cidade"}};e.push(a);var l={type:"Ti.UI.Button",bindId:"btn_selecionar",properties:{backgroundGradient:{type:"linear",colors:["#f5eb4b","#dcd231"]},borderRadius:"5",left:"1%",width:"11%",height:"95%",color:"white",bindId:"btn_selecionar",title:"Base"},events:{click:r}};return e.push(l),e}(),properties:{layout:"horizontal"}};E.push(C);var k={properties:{height:"50",top:"6",width:"98%",name:"clientes_base"},childTemplates:E};y.clientes_base=k,d.__views.__alloyId1400=Ti.UI.createListSection({id:"__alloyId1400"});var A=[];A.push(d.__views.__alloyId1400),d.__views.listaClientes=Ti.UI.createListView({sections:A,templates:y,id:"listaClientes"}),d.__views.__alloyId1341.add(d.__views.listaClientes),s.destroy=function(){},_.extend(d,d.__views),arguments[0]||{},Ti.include("/api/menu.js"),Ti.include("/api/config.js"),Ti.include("/database/clientes.js"),Ti.include("/database/aparencia.js");var N;d.logoEmpresa.image=getImagesFolder()+selectLogoFile(),Ti.App.Properties.getString(CURRENT_SOFTWARE),n["$.__views.__alloyId1338!click!buscaAlfabetica"]&&d.__views.__alloyId1338.addEventListener("click",t),n["$.__views.__alloyId1340!click!buscaCliente"]&&d.__views.__alloyId1340.addEventListener("click",i),_.extend(d,s)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;