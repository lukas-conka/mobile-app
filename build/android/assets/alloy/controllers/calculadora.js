function __processArg(e,i){var t=null;return e&&(t=e[i]||null,delete e[i]),t}function Controller(){function e(){G.pagina_inicial.text=j,ri=W[j-1];var e,a=selectProductById(ri,q,$),l=a.fieldByName("fk_template");switch(l){case 1:e="/images/notfound_quatro_quadrados.jpg";break;case 2:e="/images/notfound_tres_verticais.jpg";break;case 3:e="/images/notfound_quatro_verticais.jpg";break;case 4:e="/images/notfound_um_horizontal.jpg";break;case 5:e="/images/notfound_dois_horizontais.jpg";break;case 6:e="/images/notfound_dois_verticais.jpg";break;case 7:e="/images/notfound_quatro_horizontais.jpg";break;case 8:e="/images/notfound_cinco_verticais.jpg";break;case 9:e="/images/notfound_seis_verticais.jpg"}Ii=a.fieldByName("prd_ipi"),yi=a.fieldByName("prd_icms"),y=a.fieldByName("prd_dados_tecnicos"),u=a.fieldByName("prd_dados_composicao"),Y=h(a.fieldByName("prd_data_inicio"),a.fieldByName("prd_data_fim")),v=a.fieldByName("prd_dados_descricao"),H=a.fieldByName("prd_codigo_barra"),G.referencia.text="Referência\n"+a.fieldByName("prd_referencia"),G.nome.text=a.fieldByName("prd_nome"),G.colecao.text="Coleção\n"+a.fieldByName("prd_nome_colecao"),G.preco.text="Preço / Qtde\n"+formatCurrency(a.fieldByName("minValor"))+" a "+formatCurrency(a.fieldByName("maxValor"));var r=getImagesFolder()+selectImagemPrincipal(ri),_=Ti.Filesystem.getFile(r);switch(_?_.exists()||(r=e):r=e,ti="vertical",l){case 4:case 5:case 7:ti="vertical";break;default:ti="horizontal"}removeAllViews(Z),K&&G.content.remove(K),Z=Ti.UI.createView({top:10,left:0,height:"auto",width:"auto",layout:ti}),K=Ti.UI.createScrollView({contentWidth:"auto",contentHeight:"auto",scrollType:ti,showVerticalScrollIndicator:!0,showHorizontalScrollIndicator:!0}),G.content.add(K);var d;ni=[],ci=[],fi=[],pi=[],_i=[];for(var s,n=selectInformacaoProdutoByProduct(ri,q),c=n;c.isValidRow();){c.fieldByName("ifp_id");var f=c.fieldByName("cor_nome"),p=c.fieldByName("cor_id"),g=c.fieldByName("tmh_nome"),I=c.fieldByName("tmh_id");s=ni.indexOf(f),0>s&&(ni.push(f),fi.push(p)),s=ci.indexOf(g),0>s&&(ci.push(g),pi.push(I)),c.next()}if(J&&Z.remove(J),"vertical"==ti){Q=Titanium.UI.createImageView({left:0,width:"98%",image:r,borderColor:"#CDCDCD",borderWidth:"1"}),Z.add(Q),ii=(Q.toBlob().width-70-113*(ci.length+3))/2,ei=Titanium.UI.createView({top:3,left:Math.round(ii),height:"auto",layout:"horizontal",width:"100%"}),J=Titanium.UI.createView({height:"100%",layout:"horizontal",width:"auto"}),d=Titanium.UI.createView({height:"100%",width:100,layout:ti});var w=Q.toBlob().height+5+113*ni.length;Z.height=w,Z.width="100%",ei.add(d),ei.add(J),Z.add(ei);var T=Titanium.UI.createLabel({backgroundColor:"#008382",color:"white",width:"100%",text:"Variantes",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER});d.add(T);for(var b=0;b<ni.length;b++){var E=getImagesFolder()+selectImagemVariantePrincipal(ri,fi[b]),_=Ti.Filesystem.getFile(E);_?_.exists()||(E=e):E=e;var m=Titanium.UI.createView({height:100,top:3,borderColor:"#008382",borderWidth:"1"}),C=Titanium.UI.createImageView({backgroundColor:"white",width:"98%",image:E,corid:fi[b]});C.addEventListener("click",function(e){i(e.source.corid),t(e.source.image)}),m.add(C),d.add(m)}var k=Titanium.UI.createLabel({backgroundColor:"#008382",color:"white",width:"100%",top:3,text:"TOTAL",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER});d.add(k)}else{J=Titanium.UI.createView({height:"100%",layout:"horizontal",width:"auto"}),Q=Titanium.UI.createImageView({image:r,top:"0%",left:0,height:"98%",borderColor:"#CDCDCD",borderWidth:"1"}),Z.add(Q),ii=(Q.toBlob().height-113*ni.length)/2,d=Titanium.UI.createView({top:ii,left:3,layout:"vertical",height:"auto",width:100}),Z.add(d),Z.add(J);var T=Titanium.UI.createLabel({backgroundColor:"#008382",color:"white",width:"100%",text:"Variantes",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER});d.add(T);var A=Q.toBlob().width+5+103*(ci.length+2);Z.width=A,Z.height="100%";for(var b=0;b<ni.length;b++){var E=getImagesFolder()+selectImagemVariantePrincipal(ri,fi[b]),_=Ti.Filesystem.getFile(E);_?_.exists()||(E=e):E=e;var m=Titanium.UI.createView({height:100,top:3,borderColor:"#008382",borderWidth:"1"}),C=Titanium.UI.createImageView({backgroundColor:"white",width:"98%",image:E,corid:fi[b]});C.addEventListener("click",function(e){i(e.source.corid),t(e.source.image)}),m.add(C),d.add(m)}var k=Titanium.UI.createLabel({backgroundColor:"#008382",color:"white",width:"100%",top:3,text:"TOTAL",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER});d.add(k)}K.add(Z),o(),i(fi[0])}function i(e){var i=selectImagensPorVariante(ri,e);removeAllViews(G.imagens);var o=Ti.UI.createScrollView({height:"100%",contentWidth:"auto",contentHeight:"auto",scrollType:"horizontal",layout:"horizontal",showVerticalScrollIndicator:!1,showHorizontalScrollIndicator:!0});Ti.API.info("imagens.length="+i.length);for(var a=0;a<i.length;a++){var l=Titanium.UI.createImageView({height:"65dp",image:getImagesFolder()+i[a],right:3,borderColor:"#CDCDCD",borderWidth:"1"});l.addEventListener("click",function(e){t(e.source.image)}),o.add(l)}G.imagens.add(o)}function t(e){Q.image=e}function o(){f(),removeAllViews(J);var e=0;"horizontal"==ti&&(e=ii);for(var i=0,t=0;t<ci.length;t++){var o=Titanium.UI.createView({top:e,left:3,layout:"vertical",height:"auto",width:100}),l=Titanium.UI.createLabel({backgroundColor:"#008382",color:"white",width:"100%",text:ci[t],textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER});o.add(l);for(var r=0,_=[],d=0;d<ni.length;d++){var s=selectInformacaoProdutoByTamanhoCor(ri,pi[t],fi[d]);if(s.isValidRow()){var n=s.fieldByName("ifp_qtde_minima");_[ri]=[],_[ri]=n;var c=s.fieldByName("ifp_valor_1"),h=selectCarrinhoByProductTamanhoCor(ri,pi[t],fi[d],li),g=0,I=0;0!=h[0]&&(g=h[1],r+=g),I=gi?formatCurrency(c):g,_i[i]=Titanium.UI.createView({height:100,tmh_id:pi[t],cor_id:fi[d],ipi:Ii,top:3,icms:yi,location:i,preco_unit:c,borderColor:"#008382",borderWidth:"1"}),di[i]=Titanium.UI.createLabel({color:"#FF0000",width:"100%",top:5,text:I,textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,tmh_id:pi[t],cor_id:fi[d],location:i}),_i[i].add(di[i]),si[i]=Titanium.UI.createLabel({color:"#008382",width:"100%",top:45,text:s.fieldByName("ifp_estoque_2")-g,textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,tmh_id:pi[t],cor_id:fi[d],location:i}),_i[i].add(si[i]);var y=Titanium.UI.createLabel({color:"#E98400",width:"100%",top:65,text:"min. "+s.fieldByName("ifp_qtde_minima"),textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,tmh_id:pi[t],cor_id:fi[d],location:i});_i[i].add(y),_i[i].addEventListener("click",function(e){a(e.source)}),o.add(_i[i]),i++}}Ti.App.Properties.setList("lista",_);var u=Titanium.UI.createLabel({backgroundColor:"#008382",color:"white",width:"100%",top:3,text:r,textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER});o.add(u),J.add(o)}p()}function a(e){var i=e.location,t=hi.indexOf(i),o=_i[i];0>t?(o.backgroundColor="#FFFF00",hi.push(i)):(o.backgroundColor="white",hi.splice(t,1))}function l(){var e=Ti.App.Properties.getList("lista"),i=e[ri];if(G.tela.text<i)alert("Quantidade minima de "+i);else if(""==G.tela.text)alert("Digite a quantidade");else{var t=G.tela.text;ui?s(t):r(t),G.tela.text="",o()}}function r(e){for(var i=0;i<hi.length;i++){var t=_i[hi[i]],o=si[hi[i]].text-e;0>o&&(o=0),c(t.tmh_id,t.cor_id,e,t.preco_unit,t.ipi,t.icms)}}function d(){ui?(ui=!1,G.sortido.backgroundGradient={type:"linear",colors:["#2c8f8e","#206764"]}):(ui=!0,G.sortido.backgroundGradient={type:"linear",colors:["#d9534f","#e5302a"]})}function s(e){for(var i=ni.length,t=ci.length,a=n(i,t,e),l=0;i>l;l++)for(var r=0;t>r;r++){var _=fi[l],d=pi[r],s=selectProductById(ri,q,ai),f=a[l][r],p=s.fieldByName("minValor"),h=s.fieldByName("prd_ipi"),g=s.fieldByName("prd_icms");c(d,_,f,p,h,g)}o()}function n(e,i,t){for(var o=[],a=0;e>a;a++){o[a]=[];for(var l=0;i>l;l++)o[a][l]=0}var r=i/2,_=i%2,d=0,s=0;1==_?d=r+_:(d=r,s=r+1),d--,s--;var n=[],c=0;if(d>-1)for(var a=0;e>a;a++)n[c]=a+","+d,c++;if(s>-1)for(var a=0;e>a;a++)n[c]=a+","+s,c++;c=0;for(var a=0;e>a;a++)for(var l=0;i>l;l++){var f=a+","+l;n.indexOf(f)<0&&(n[c]=f,c++)}c=0;for(var p=0;t>p;p++){var h=n[c].split(","),g=o[h[0]][h[1]];g++,o[h[0]][h[1]]=g,c++,c==e*i&&(c=0)}return o}function c(e,i,t,o,a,l){var r=selectCarrinhoByProductTamanhoCor(ri,e,i,li),_=Ti.App.Properties.getString(SESSION_ID),d=Ti.App.Properties.getString(CURRENT_USER_ID);if(0!=r[0]){var s=r[0],n=r[1],c=r[2],f=0;0!=t&&(f=n+parseInt(t)),f>c&&(f=c),updateCarrinho(s,_,f,0,0,0,0,0)}else insertCarrinho(_,t,o,a,l,0,0,0,0,0,d,ri,e,i,li,q)}function f(){vi=0,bi=0,Ei=0,mi=0;for(var e=selectallCarrinho();e.isValidRow();)e.fieldByName("fk_produtos")==ri&&(Ti.API.info("carrinho="+e.fieldByName("car_quantidade")),vi+=e.fieldByName("car_quantidade"),bi+=e.fieldByName("car_quantidade")*e.fieldByName("car_preco_unitario")),Ei+=e.fieldByName("car_quantidade"),mi+=e.fieldByName("car_quantidade")*e.fieldByName("car_preco_unitario"),e.next();G.pecasref.title=vi+"",G.valorref.title=formatCurrency(bi),G.pecastotal.title=Ei+"",G.valortotal.title=formatCurrency(mi)}function p(){for(var e=0;e<hi.length;e++){var i=_i[hi[e]];i.backgroundColor="white"}hi=[]}function h(e,i){return"De "+e+" à "+i}function g(){goTo("categorias")}function I(){0>=Ei?alert("Nenhum produto comprado!"):Ci>mi?alert("Valor mínimo para compra é de "+formatCurrency(Ci)):goTo("carrinho")}function y(){alert(y)}function u(){alert(u)}function w(){gi=gi?!1:!0,o()}function T(){alert(Y)}function v(){alert(v)}function b(){alert(H)}function E(){var e=G.tela.text;e.length>0&&(G.tela.text=e.substring(0,e.length-1))}function m(){G.tela.text=G.tela.text+"1"}function C(){G.tela.text=G.tela.text+"2"}function k(){G.tela.text=G.tela.text+"3"}function A(){G.tela.text=G.tela.text+"4"}function N(){G.tela.text=G.tela.text+"5"}function L(){G.tela.text=G.tela.text+"6"}function U(){G.tela.text=G.tela.text+"7"}function R(){G.tela.text=G.tela.text+"8"}function S(){G.tela.text=G.tela.text+"9"}function x(){G.tela.text=G.tela.text+"0"}function D(){p(),G.tela.text=""}function B(){wi?(G.produtos.animate({curve:Ti.UI.ANIMATION_CURVE_EASE_IN_OUT,right:"-20%",duration:200}),wi=!1):(G.produtos.animate({curve:Ti.UI.ANIMATION_CURVE_EASE_IN_OUT,right:5,duration:200}),wi=!0)}function V(){B()}function M(){removeAllViews(G.listaprodutos);var i=Ti.UI.createScrollView({top:10,left:0,contentWidth:"auto",contentHeight:"auto",scrollType:"vertical",layout:"vertical",showVerticalScrollIndicator:!0,showHorizontalScrollIndicator:!0}),t=Ti.UI.createView({width:"100%",layout:"horizontal"});G.listaprodutos.add(i);for(var o=1,a=0;a<W.length;a++){var l=Titanium.UI.createView({top:5,left:5,layout:"vertical",height:140,width:"25%",prd_id:W[a]}),r=Titanium.UI.createView({layout:"vertical",height:"80%",width:"100%",borderColor:"#008382",borderWidth:"1",prd_id:W[a]});r.addEventListener("click",function(i){j=W.indexOf(i.source.prd_id)+1,e()});var _=Titanium.UI.createImageView({height:"60%",prd_id:W[a],image:getImagesFolder()+selectImagemPrincipal(W[a])});r.add(_);var d=Titanium.UI.createButton({backgroundColor:"transparent",width:"100%",image:"/images/apagar.png",prd_id:W[a]});l.add(r),l.add(d),o>3?(o=1,i.add(t),t=Ti.UI.createView({width:"100%",layout:"horizontal"})):t.add(l),o++}i.add(t)}function P(){for(var e=0;e<_i.length;e++){var i=_i[e];c(i.tmh_id,i.cor_id,0,0,0,0)}o()}function O(){j--,0>=j&&(j=W.length),e()}function z(){j++,j>W.length&&(j=1),e()}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="calculadora",this.args=arguments[0]||{},arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var G=this,F={},X={};G.__views.calculadora=Ti.UI.createWindow({backgroundColor:"white",id:"calculadora"}),G.__views.calculadora&&G.addTopLevelView(G.__views.calculadora),G.__views.__alloyId0=Ti.UI.createView({height:"10%",left:"15%",bottom:0,width:"65%",layout:"horizontal",id:"__alloyId0"}),G.__views.calculadora.add(G.__views.__alloyId0),G.__views.imagens=Ti.UI.createView({left:0,height:"88%",width:"55%",layout:"horizontal",id:"imagens"}),G.__views.__alloyId0.add(G.__views.imagens),G.__views.__alloyId1=Ti.UI.createImageView({height:"60%",image:"/images/estoque.png",id:"__alloyId1"}),G.__views.__alloyId0.add(G.__views.__alloyId1),G.__views.pagina_inicial=Ti.UI.createLabel({borderColor:"#008382",borderWidth:3,color:"red",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,width:50,height:50,text:"1",id:"pagina_inicial"}),G.__views.__alloyId0.add(G.__views.pagina_inicial),G.__views.__alloyId2=Ti.UI.createLabel({color:"#008382",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,left:3,text:"de",id:"__alloyId2"}),G.__views.__alloyId0.add(G.__views.__alloyId2),G.__views.pagina_final=Ti.UI.createLabel({borderColor:"#008382",borderWidth:3,color:"red",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,width:50,height:50,left:3,text:"1",id:"pagina_final"}),G.__views.__alloyId0.add(G.__views.pagina_final),G.__views.content=Ti.UI.createView({height:"85%",left:"15%",bottom:"15%",width:"65%",id:"content"}),G.__views.calculadora.add(G.__views.content),G.__views.__alloyId3=Ti.UI.createView({height:"100%",left:"0",width:"15%",id:"__alloyId3"}),G.__views.calculadora.add(G.__views.__alloyId3),G.__views.__alloyId4=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"8%",top:"1%",width:"90%",id:"__alloyId4"}),G.__views.__alloyId3.add(G.__views.__alloyId4),G.__views.referencia=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Referência",id:"referencia"}),G.__views.__alloyId4.add(G.__views.referencia),G.__views.__alloyId5=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"8%",top:"10%",width:"90%",id:"__alloyId5"}),G.__views.__alloyId3.add(G.__views.__alloyId5),G.__views.nome=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,id:"nome"}),G.__views.__alloyId5.add(G.__views.nome),G.__views.__alloyId6=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"8%",top:"19%",width:"90%",id:"__alloyId6"}),G.__views.__alloyId3.add(G.__views.__alloyId6),G.__views.colecao=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Coleção",id:"colecao"}),G.__views.__alloyId6.add(G.__views.colecao),G.__views.__alloyId7=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"8%",top:"28%",width:"90%",id:"__alloyId7"}),G.__views.__alloyId3.add(G.__views.__alloyId7),y?G.__views.__alloyId7.addEventListener("click",y):X["$.__views.__alloyId7!click!informacoes"]=!0,G.__views.informacoes=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Informações técnicas",id:"informacoes"}),G.__views.__alloyId7.add(G.__views.informacoes),G.__views.__alloyId8=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"8%",top:"37%",width:"90%",id:"__alloyId8"}),G.__views.__alloyId3.add(G.__views.__alloyId8),u?G.__views.__alloyId8.addEventListener("click",u):X["$.__views.__alloyId8!click!composicao"]=!0,G.__views.composicao=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Composição",id:"composicao"}),G.__views.__alloyId8.add(G.__views.composicao),G.__views.__alloyId9=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},font:{fontSize:16},borderRadius:"5",color:"#ffffff",height:"8%",top:"46%",width:"90%",id:"__alloyId9"}),G.__views.__alloyId3.add(G.__views.__alloyId9),w?G.__views.__alloyId9.addEventListener("click",w):X["$.__views.__alloyId9!click!precotroca"]=!0,G.__views.preco=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Preço / Qtde",id:"preco"}),G.__views.__alloyId9.add(G.__views.preco),G.__views.__alloyId10=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"8%",top:"55%",width:"90%",id:"__alloyId10"}),G.__views.__alloyId3.add(G.__views.__alloyId10),T?G.__views.__alloyId10.addEventListener("click",T):X["$.__views.__alloyId10!click!prazo"]=!0,G.__views.prazo=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Prazo de entrega",id:"prazo"}),G.__views.__alloyId10.add(G.__views.prazo),G.__views.__alloyId11=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"8%",top:"64%",width:"90%",id:"__alloyId11"}),G.__views.__alloyId3.add(G.__views.__alloyId11),v?G.__views.__alloyId11.addEventListener("click",v):X["$.__views.__alloyId11!click!descricao"]=!0,G.__views.descricao=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Descrição do produto",id:"descricao"}),G.__views.__alloyId11.add(G.__views.descricao),G.__views.__alloyId12=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"8%",top:"73%",width:"90%",id:"__alloyId12"}),G.__views.__alloyId3.add(G.__views.__alloyId12),b?G.__views.__alloyId12.addEventListener("click",b):X["$.__views.__alloyId12!click!codbarras"]=!0,G.__views.codbarras=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Código de barras",id:"codbarras"}),G.__views.__alloyId12.add(G.__views.codbarras),G.__views.logoEmpresa=Ti.UI.createImageView({image:"/images/logo_rodape.jpg",top:"82%",width:"90%",id:"logoEmpresa"}),G.__views.__alloyId3.add(G.__views.logoEmpresa),G.__views.__alloyId13=Ti.UI.createView({height:"100%",right:"0",width:"20%",id:"__alloyId13"}),G.__views.calculadora.add(G.__views.__alloyId13),G.__views.__alloyId14=Ti.UI.createView({borderColor:"#000000",borderWidth:"1",height:"10%",top:"1%",width:"94%",id:"__alloyId14"}),G.__views.__alloyId13.add(G.__views.__alloyId14),G.__views.tela=Ti.UI.createLabel({backgroundColor:"#000000",color:"#ffffff",font:{fontSize:25},height:"90%",left:"1%",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,width:"67%",text:"",id:"tela"}),G.__views.__alloyId14.add(G.__views.tela),G.__views.apaga=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"90%",right:"1%",font:{fontSize:18},width:"30%",title:"",id:"apaga"}),G.__views.__alloyId14.add(G.__views.apaga),E?G.__views.apaga.addEventListener("click",E):X["$.__views.apaga!click!apaga"]=!0,G.__views.__alloyId15=Ti.UI.createView({borderColor:"#cccccc",borderWidth:"1",height:"50%",top:"12%",width:"94%",id:"__alloyId15"}),G.__views.__alloyId13.add(G.__views.__alloyId15),G.__views.__alloyId16=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",left:"1%",top:"33%",width:"31%",title:"1",id:"__alloyId16"}),G.__views.__alloyId15.add(G.__views.__alloyId16),m?G.__views.__alloyId16.addEventListener("click",m):X["$.__views.__alloyId16!click!botao1"]=!0,G.__views.__alloyId17=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",top:"33%",width:"31%",title:"2",id:"__alloyId17"}),G.__views.__alloyId15.add(G.__views.__alloyId17),C?G.__views.__alloyId17.addEventListener("click",C):X["$.__views.__alloyId17!click!botao2"]=!0,G.__views.__alloyId18=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",right:"1%",top:"33%",width:"31%",title:"3",id:"__alloyId18"}),G.__views.__alloyId15.add(G.__views.__alloyId18),k?G.__views.__alloyId18.addEventListener("click",k):X["$.__views.__alloyId18!click!botao3"]=!0,G.__views.__alloyId19=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",left:"1%",top:"17%",width:"31%",title:"4",id:"__alloyId19"}),G.__views.__alloyId15.add(G.__views.__alloyId19),A?G.__views.__alloyId19.addEventListener("click",A):X["$.__views.__alloyId19!click!botao4"]=!0,G.__views.__alloyId20=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",top:"17%",width:"31%",title:"5",id:"__alloyId20"}),G.__views.__alloyId15.add(G.__views.__alloyId20),N?G.__views.__alloyId20.addEventListener("click",N):X["$.__views.__alloyId20!click!botao5"]=!0,G.__views.__alloyId21=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",right:"1%",top:"17%",width:"31%",title:"6",id:"__alloyId21"}),G.__views.__alloyId15.add(G.__views.__alloyId21),L?G.__views.__alloyId21.addEventListener("click",L):X["$.__views.__alloyId21!click!botao6"]=!0,G.__views.__alloyId22=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",left:"1%",top:"1%",width:"31%",title:"7",id:"__alloyId22"}),G.__views.__alloyId15.add(G.__views.__alloyId22),U?G.__views.__alloyId22.addEventListener("click",U):X["$.__views.__alloyId22!click!botao7"]=!0,G.__views.__alloyId23=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",top:"1%",width:"31%",title:"8",id:"__alloyId23"}),G.__views.__alloyId15.add(G.__views.__alloyId23),R?G.__views.__alloyId23.addEventListener("click",R):X["$.__views.__alloyId23!click!botao8"]=!0,G.__views.__alloyId24=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",right:"1%",top:"1%",width:"31%",title:"9",id:"__alloyId24"}),G.__views.__alloyId15.add(G.__views.__alloyId24),S?G.__views.__alloyId24.addEventListener("click",S):X["$.__views.__alloyId24!click!botao9"]=!0,G.__views.__alloyId25=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#d9534f","#e5302a"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",left:"1%",top:"49%",width:"31%",title:"OK",id:"__alloyId25"}),G.__views.__alloyId15.add(G.__views.__alloyId25),l?G.__views.__alloyId25.addEventListener("click",l):X["$.__views.__alloyId25!click!botaoOk"]=!0,G.__views.__alloyId26=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",top:"49%",width:"31%",title:"0",id:"__alloyId26"}),G.__views.__alloyId15.add(G.__views.__alloyId26),x?G.__views.__alloyId26.addEventListener("click",x):X["$.__views.__alloyId26!click!botao0"]=!0,G.__views.sortido=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",height:"15%",right:"1%",top:"49%",width:"31%",id:"sortido"}),G.__views.__alloyId15.add(G.__views.sortido),d?G.__views.sortido.addEventListener("click",d):X["$.__views.sortido!click!botaoSortir"]=!0,G.__views.__alloyId27=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"QTDE. SORTIDA",id:"__alloyId27"}),G.__views.sortido.add(G.__views.__alloyId27),G.__views.__alloyId28=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#d9534f","#e5302a"]},borderRadius:"5",color:"#ffffff",height:"15%",left:"1%",top:"65%",width:"31%",id:"__alloyId28"}),G.__views.__alloyId15.add(G.__views.__alloyId28),D?G.__views.__alloyId28.addEventListener("click",D):X["$.__views.__alloyId28!click!botaoLimpa"]=!0,G.__views.__alloyId29=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"LIMPAR",id:"__alloyId29"}),G.__views.__alloyId28.add(G.__views.__alloyId29),G.__views.__alloyId30=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",font:{fontSize:12},height:"15%",top:"65%",width:"31%",id:"__alloyId30"}),G.__views.__alloyId15.add(G.__views.__alloyId30),B?G.__views.__alloyId30.addEventListener("click",B):X["$.__views.__alloyId30!click!botaoLista"]=!0,G.__views.__alloyId31=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"LISTAR PROD.",id:"__alloyId31"}),G.__views.__alloyId30.add(G.__views.__alloyId31),G.__views.__alloyId32=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#d9534f","#e5302a"]},borderRadius:"5",color:"#ffffff",font:{fontSize:12},height:"15%",right:"1%",top:"65%",width:"31%",id:"__alloyId32"}),G.__views.__alloyId15.add(G.__views.__alloyId32),P?G.__views.__alloyId32.addEventListener("click",P):X["$.__views.__alloyId32!click!botaoZera"]=!0,G.__views.__alloyId33=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"ZERAR",id:"__alloyId33"}),G.__views.__alloyId32.add(G.__views.__alloyId33),G.__views.__alloyId34=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",font:{fontSize:12},height:"18%",left:"1%",top:"81%",width:"48%",id:"__alloyId34"}),G.__views.__alloyId15.add(G.__views.__alloyId34),O?G.__views.__alloyId34.addEventListener("click",O):X["$.__views.__alloyId34!click!botaoAnterior"]=!0,G.__views.__alloyId35=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"PRODUTO ANTERIOR SELECIONADO",id:"__alloyId35"}),G.__views.__alloyId34.add(G.__views.__alloyId35),G.__views.__alloyId36=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",font:{fontSize:12},height:"18%",right:"1%",top:"81%",width:"48%",id:"__alloyId36"}),G.__views.__alloyId15.add(G.__views.__alloyId36),z?G.__views.__alloyId36.addEventListener("click",z):X["$.__views.__alloyId36!click!botaoProximo"]=!0,G.__views.__alloyId37=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"PRÓXIMO PRODUTO SELECIONADO",id:"__alloyId37"}),G.__views.__alloyId36.add(G.__views.__alloyId37),G.__views.__alloyId38=Ti.UI.createLabel({backgroundColor:"#ffffff",borderColor:"#000000",borderWidth:"1",color:"#000000",font:{fontSize:12},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,height:"6%",left:"3%",top:"63%",width:"40%",text:"Nº de peças desta ref.:",id:"__alloyId38"}),G.__views.__alloyId13.add(G.__views.__alloyId38),G.__views.pecasref=Ti.UI.createButton({backgroundColor:"#000000",borderColor:"#ffffff",borderWidth:"1",color:"#ffffff",height:"6%",right:"3%",top:"63%",width:"54%",title:"0",id:"pecasref"}),G.__views.__alloyId13.add(G.__views.pecasref),G.__views.__alloyId39=Ti.UI.createLabel({backgroundColor:"#ffffff",borderColor:"#000000",borderWidth:"1",color:"#000000",font:{fontSize:12},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,height:"6%",left:"3%",top:"69%",width:"40%",text:"Valor desta ref.:",id:"__alloyId39"}),G.__views.__alloyId13.add(G.__views.__alloyId39),G.__views.valorref=Ti.UI.createButton({backgroundColor:"#000000",borderColor:"#ffffff",borderWidth:"1",color:"#ffffff",height:"6%",right:"3%",top:"69%",width:"54%",title:"R$ 0,00",id:"valorref"}),G.__views.__alloyId13.add(G.__views.valorref),G.__views.__alloyId40=Ti.UI.createLabel({backgroundColor:"#ffffff",borderColor:"#000000",borderWidth:"1",color:"#000000",font:{fontSize:12},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,height:"6%",left:"3%",top:"76%",width:"40%",text:"Nº de peças acumuladas:",id:"__alloyId40"}),G.__views.__alloyId13.add(G.__views.__alloyId40),G.__views.pecastotal=Ti.UI.createButton({backgroundColor:"#000000",borderColor:"#ffffff",borderWidth:"1",color:"#ffffff",height:"6%",right:"3%",top:"76%",width:"54%",title:"0",id:"pecastotal"}),G.__views.__alloyId13.add(G.__views.pecastotal),G.__views.__alloyId41=Ti.UI.createLabel({backgroundColor:"#ffffff",borderColor:"#000000",borderWidth:"1",color:"#000000",font:{fontSize:12},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,height:"6%",left:"3%",top:"82%",width:"40%",text:"Valor acumulado:",id:"__alloyId41"}),G.__views.__alloyId13.add(G.__views.__alloyId41),G.__views.valortotal=Ti.UI.createButton({backgroundColor:"#000000",borderColor:"#ffffff",borderWidth:"1",color:"#ffffff",height:"6%",right:"3%",top:"82%",width:"54%",title:"R$ 0,00",id:"valortotal"}),G.__views.__alloyId13.add(G.__views.valortotal),G.__views.__alloyId42=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",bottom:"1%",color:"#ffffff",font:{fontSize:14},height:"10%",right:"3%",width:"46%",id:"__alloyId42"}),G.__views.__alloyId13.add(G.__views.__alloyId42),g?G.__views.__alloyId42.addEventListener("click",g):X["$.__views.__alloyId42!click!goToCatalogo"]=!0,G.__views.__alloyId43=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"VOLTAR CATEGORIAS",id:"__alloyId43"}),G.__views.__alloyId42.add(G.__views.__alloyId43),G.__views.__alloyId44=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",bottom:"1%",height:"10%",left:"3%",width:"46%",id:"__alloyId44"}),G.__views.__alloyId13.add(G.__views.__alloyId44),I?G.__views.__alloyId44.addEventListener("click",I):X["$.__views.__alloyId44!click!goToPedido"]=!0,G.__views.__alloyId45=Ti.UI.createImageView({height:"50%",image:"/images/carrinho.png",id:"__alloyId45"}),G.__views.__alloyId44.add(G.__views.__alloyId45),I?G.__views.__alloyId45.addEventListener("click",I):X["$.__views.__alloyId45!click!goToPedido"]=!0,G.__views.produtos=Ti.UI.createView({backgroundColor:"white",top:5,bottom:5,height:"100%",right:"-20%",width:"20%",borderColor:"#008382",borderWidth:"1",id:"produtos"}),G.__views.calculadora.add(G.__views.produtos),G.__views.__alloyId46=Ti.UI.createLabel({backgroundColor:"#008382",color:"white",top:0,width:"100%",height:"5%",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Lista de Produtos",id:"__alloyId46"}),G.__views.produtos.add(G.__views.__alloyId46),G.__views.listaprodutos=Ti.UI.createView({width:"100%",heigth:"85%",top:"6%",layout:"vertical",id:"listaprodutos"}),G.__views.produtos.add(G.__views.listaprodutos),G.__views.__alloyId47=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"5%",bottom:"2%",right:"5%",width:"40%",title:"Voltar",id:"__alloyId47"}),G.__views.produtos.add(G.__views.__alloyId47),V?G.__views.__alloyId47.addEventListener("click",V):X["$.__views.__alloyId47!click!fecharLista"]=!0,F.destroy=function(){},_.extend(G,G.__views),arguments[0]||{},Ti.include("/api/config.js"),Ti.include("/database/aparencia.js"),Ti.include("/database/clientes.js"),Ti.include("/database/produtos.js"),Ti.include("/database/aparencia.js"),Ti.include("/database/carrinho.js"),Ti.include("/database/imagens_produtos.js"),Ti.include("/database/informacao_produto.js");var j=1,$=1,q=Ti.App.Properties.getString(CURRENT_EMPRESA),W=Ti.App.Properties.getList(SELECTED_PRODUCTS);Ti.App.Properties.getList(CURRENT_USER_ID);var y,u,Y,v,H,J,Q,Z,K,ei,ii,ti,oi=Ti.App.Properties.getList(SELECTED_CLIENTS),ai=1,li=oi[0],ri=0,_i=[],di=[],si=[],ni=[],ci=[],fi=[],pi=[],hi=[],gi=!1,Ii=0,yi=0,ui=!1,wi=!1,vi=0,bi=0,Ei=0,mi=0;G.logoEmpresa.image=getImagesFolder()+selectLogoFile(),G.apaga.title="<<",e(),M(),G.pagina_final.text=W.length;var Ci=0,ki=0,Ai=consultaCredito(oi[0]);Ai.isValidRow()&&(Ci=Ai.fieldByName("cl_valor_minimo"),ki=Ai.fieldByName("cl_credito_total")-Ai.fieldByName("cl_credito_utilizado")),G.informacoes.font={fontSize:19},G.referencia.font={fontSize:19},G.nome.font={fontSize:19},G.colecao.font={fontSize:19},G.composicao.font={fontSize:19},G.preco.font={fontSize:19},G.prazo.font={fontSize:19},G.descricao.font={fontSize:19},G.codbarras.font={fontSize:19},X["$.__views.__alloyId7!click!informacoes"]&&G.__views.__alloyId7.addEventListener("click",y),X["$.__views.__alloyId8!click!composicao"]&&G.__views.__alloyId8.addEventListener("click",u),X["$.__views.__alloyId9!click!precotroca"]&&G.__views.__alloyId9.addEventListener("click",w),X["$.__views.__alloyId10!click!prazo"]&&G.__views.__alloyId10.addEventListener("click",T),X["$.__views.__alloyId11!click!descricao"]&&G.__views.__alloyId11.addEventListener("click",v),X["$.__views.__alloyId12!click!codbarras"]&&G.__views.__alloyId12.addEventListener("click",b),X["$.__views.apaga!click!apaga"]&&G.__views.apaga.addEventListener("click",E),X["$.__views.__alloyId16!click!botao1"]&&G.__views.__alloyId16.addEventListener("click",m),X["$.__views.__alloyId17!click!botao2"]&&G.__views.__alloyId17.addEventListener("click",C),X["$.__views.__alloyId18!click!botao3"]&&G.__views.__alloyId18.addEventListener("click",k),X["$.__views.__alloyId19!click!botao4"]&&G.__views.__alloyId19.addEventListener("click",A),X["$.__views.__alloyId20!click!botao5"]&&G.__views.__alloyId20.addEventListener("click",N),X["$.__views.__alloyId21!click!botao6"]&&G.__views.__alloyId21.addEventListener("click",L),X["$.__views.__alloyId22!click!botao7"]&&G.__views.__alloyId22.addEventListener("click",U),X["$.__views.__alloyId23!click!botao8"]&&G.__views.__alloyId23.addEventListener("click",R),X["$.__views.__alloyId24!click!botao9"]&&G.__views.__alloyId24.addEventListener("click",S),X["$.__views.__alloyId25!click!botaoOk"]&&G.__views.__alloyId25.addEventListener("click",l),X["$.__views.__alloyId26!click!botao0"]&&G.__views.__alloyId26.addEventListener("click",x),X["$.__views.sortido!click!botaoSortir"]&&G.__views.sortido.addEventListener("click",d),X["$.__views.__alloyId28!click!botaoLimpa"]&&G.__views.__alloyId28.addEventListener("click",D),X["$.__views.__alloyId30!click!botaoLista"]&&G.__views.__alloyId30.addEventListener("click",B),X["$.__views.__alloyId32!click!botaoZera"]&&G.__views.__alloyId32.addEventListener("click",P),X["$.__views.__alloyId34!click!botaoAnterior"]&&G.__views.__alloyId34.addEventListener("click",O),X["$.__views.__alloyId36!click!botaoProximo"]&&G.__views.__alloyId36.addEventListener("click",z),X["$.__views.__alloyId42!click!goToCatalogo"]&&G.__views.__alloyId42.addEventListener("click",g),X["$.__views.__alloyId44!click!goToPedido"]&&G.__views.__alloyId44.addEventListener("click",I),X["$.__views.__alloyId45!click!goToPedido"]&&G.__views.__alloyId45.addEventListener("click",I),X["$.__views.__alloyId47!click!fecharLista"]&&G.__views.__alloyId47.addEventListener("click",V),_.extend(G,F)
}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;