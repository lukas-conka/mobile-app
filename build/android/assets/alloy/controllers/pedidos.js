function __processArg(e,i){var t=null;return e&&(t=e[i]||null,delete e[i]),t}function Controller(){function e(e){if(Ti.API.info(e.itemIndex),1==e.itemIndex||2==e.itemIndex||3==e.itemIndex||4==e.itemIndex)if(Ti.App.Properties.getList(SELECTED_CLIENTS)){for(var i=Ti.App.Properties.getList(SELECTED_CLIENTS),t=0;t<i.length;t++);0==t?alert("É necessário a seleção de um cliente ou mais para seguir em diante!"):menuSelection(e.itemIndex)}else alert("É necessário a seleção de um cliente ou mais para seguir em diante!");else menuSelection(e.itemIndex)}function i(e){var i=e.source,t=new Date,o=Ti.UI.createWindow({exitOnClose:!1,backgroundColor:"gray",layout:"vertical"}),a=Ti.UI.createPicker({type:Ti.UI.PICKER_TYPE_DATE,minDate:new Date(2013,0,1),maxDate:t,value:t,top:50,buttonNames:["Ok"]}),l=Ti.UI.createButton({title:"  OK  ",style:1,borderRadius:9,font:{fontSize:25},backgroundColor:"white",color:"#336633"});l.addEventListener("click",function(){o.close()}),o.add(a),o.add(l),o.open();var _=checkdecimal(t.getDate()),r=checkdecimal(t.getMonth()+1),d=t.getFullYear();i.title=d+"-"+r+"-"+_,a.addEventListener("change",function(e){Titanium.UI.currentWindow;var t=checkdecimal(e.value.getDate()),o=checkdecimal(e.value.getMonth()+1),a=e.value.getFullYear();i.title=a+"-"+o+"-"+t})}function t(){if("yyyy-mm-dd"!=a.datainicio.title&&"yyyy-mm-dd"!=a.datafim.title){for(var e=a.datainicio.title,i=a.datafim.title,t=consultaPedidosPorData(e,i),o=[],l=0;t.isValidRow();){l++;var _=t.fieldByName("ped_id"),r=t.fieldByName("ped_numero"),d=t.fieldByName("cl_cnpj"),s=t.fieldByName("cl_razao"),n=t.fieldByName("ped_data"),c=n.split(" "),f=new Date(c[0]),p=f.getDate()+" de "+getMonth(f.getMonth()+1)+" de "+f.getFullYear();o.push({ped_id:_,label_numero:{text:"Nº "+r},label_data:{text:d},label_razao:{text:s},label_cnpj:{text:p}}),t.next()}a.listapedidos.sections[0].setItems(o),0==l&&alert("Nenhum pedido encontrado no periodo selecionado")}else alert("Por favor, selecione as datas para o filtro")}function o(e){var i=a.listapedidos.sections[e.sectionIndex],t=i.getItemAt(e.itemIndex),o=t.ped_id,l={ped_id:o},_=Alloy.createController("detalhe",l).getView();_.open({fullscreen:!0,navBarHidden:!0})}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="pedidos",this.args=arguments[0]||{},arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var a=this,l={},r={};a.__views.pedidos=Ti.UI.createWindow({backgroundColor:"white",id:"pedidos"}),a.__views.pedidos&&a.addTopLevelView(a.__views.pedidos);var d={},s=[],n={type:"Ti.UI.View",childTemplates:function(){var e=[],i={type:"Ti.UI.Label",bindId:"btnmenu",properties:{touchEnabled:"false",width:"98%",color:"white",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,bindId:"btnmenu"}};return e.push(i),e}(),properties:{backgroundColor:"#3f3a35",borderColor:"#9ccccb",borderWidth:"4",color:"#ffffff",width:"90%",height:"80%"},events:{click:e}};s.push(n);var c={properties:{height:"112dp",name:"menuTemplate"},childTemplates:s};d.menuTemplate=c;var f=[];a.__views.__alloyId1153={btnmenu:{text:"CNPJ/\n RAZÃO SOCIAL/\n ENDEREÇO LOJA"},properties:{id:"__alloyId1153"}},f.push(a.__views.__alloyId1153),a.__views.__alloyId1154={btnmenu:{text:"ANÁLISE DE \n CRÉDITO"},properties:{id:"__alloyId1154"}},f.push(a.__views.__alloyId1154),a.__views.__alloyId1155={btnmenu:{text:"IR AO\n CATÁLOGO"},properties:{id:"__alloyId1155"}},f.push(a.__views.__alloyId1155),a.__views.__alloyId1156={btnmenu:{text:"PEDIDOS"},properties:{id:"__alloyId1156"}},f.push(a.__views.__alloyId1156),a.__views.__alloyId1157={btnmenu:{text:"TRANSPORTADORA"},properties:{id:"__alloyId1157"}},f.push(a.__views.__alloyId1157),a.__views.__alloyId1158={btnmenu:{text:"NOVO CLIENTE"},properties:{id:"__alloyId1158"}},f.push(a.__views.__alloyId1158),a.__views.__alloyId1159={btnmenu:{text:"FUNÇÕES"},properties:{id:"__alloyId1159"}},f.push(a.__views.__alloyId1159),a.__views.__alloyId1160={btnmenu:{text:"EMAIL"},properties:{id:"__alloyId1160"}},f.push(a.__views.__alloyId1160),a.__views.__alloyId1161={btnmenu:{text:"VOLTAR PARA TELA INICIAL"},properties:{id:"__alloyId1161"}},f.push(a.__views.__alloyId1161),a.__views.__alloyId1162={btnmenu:{text:"TROCAR\n MARCA"},properties:{id:"__alloyId1162"}},f.push(a.__views.__alloyId1162),a.__views.__alloyId1163={btnmenu:{text:"SAIR"},properties:{id:"__alloyId1163"}},f.push(a.__views.__alloyId1163),a.__views.__alloyId1150=Ti.UI.createListSection({id:"__alloyId1150"}),a.__views.__alloyId1150.items=f;var p=[];p.push(a.__views.__alloyId1150),a.__views.__alloyId1140=Ti.UI.createListView({backgroundColor:"#ebf7f6",height:"100%",left:"0",width:"15%",sections:p,templates:d,defaultItemTemplate:"menuTemplate",id:"__alloyId1140"}),a.__views.pedidos.add(a.__views.__alloyId1140),a.__views.__alloyId1165=Ti.UI.createView({height:"100%",right:"0",width:"85%",id:"__alloyId1165"}),a.__views.pedidos.add(a.__views.__alloyId1165),a.__views.__alloyId1166=Ti.UI.createView({height:"90",top:"0",width:"98%",id:"__alloyId1166"}),a.__views.__alloyId1165.add(a.__views.__alloyId1166),a.__views.__alloyId1167=Ti.UI.createView({height:"90%",left:"0",width:"15%",id:"__alloyId1167"}),a.__views.__alloyId1166.add(a.__views.__alloyId1167),a.__views.logoEmpresa=Ti.UI.createImageView({image:"/images/logo_rodape.jpg",left:"0",id:"logoEmpresa"}),a.__views.__alloyId1167.add(a.__views.logoEmpresa),a.__views.__alloyId1168=Ti.UI.createButton({backgroundColor:"#FFFFFF",color:"#4e8789",height:"90",left:"15%",width:"70%",title:"PEDIDOS",id:"__alloyId1168"}),a.__views.__alloyId1166.add(a.__views.__alloyId1168),a.__views.__alloyId1169=Ti.UI.createView({height:"90",left:"85%",width:"15%",id:"__alloyId1169"}),a.__views.__alloyId1166.add(a.__views.__alloyId1169),a.__views.__alloyId1170=Ti.UI.createImageView({image:"/images/logo_rodape.jpg",right:"0",id:"__alloyId1170"}),a.__views.__alloyId1169.add(a.__views.__alloyId1170),a.__views.__alloyId1171=Ti.UI.createView({borderColor:"#4e8789",borderWidth:"4",top:"90",width:"98%",id:"__alloyId1171"}),a.__views.__alloyId1165.add(a.__views.__alloyId1171),a.__views.__alloyId1172=Ti.UI.createView({borderColor:"#4e8789",borderWidth:"4",height:"70",top:"0",width:"100%",id:"__alloyId1172"}),a.__views.__alloyId1171.add(a.__views.__alloyId1172),a.__views.__alloyId1173=Ti.UI.createButton({backgroundColor:"#FFFFFF",color:"#222222",height:"50",left:"0",width:"50",title:"DE",id:"__alloyId1173"}),a.__views.__alloyId1172.add(a.__views.__alloyId1173),a.__views.datainicio=Ti.UI.createButton({backgroundColor:"#FFFFFF",borderColor:"#6EA9A0",borderWidth:"4",color:"#000000",height:"50",left:"60",width:"220",id:"datainicio",title:"yyyy-mm-dd"}),a.__views.__alloyId1172.add(a.__views.datainicio),i?a.__views.datainicio.addEventListener("click",i):r["$.__views.datainicio!click!datePicker"]=!0,a.__views.__alloyId1174=Ti.UI.createButton({backgroundColor:"#FFFFFF",color:"#222222",height:"50",left:"290",width:"50",title:"ATÉ",id:"__alloyId1174"}),a.__views.__alloyId1172.add(a.__views.__alloyId1174),a.__views.datafim=Ti.UI.createButton({backgroundColor:"#FFFFFF",borderColor:"#6EA9A0",borderWidth:"4",color:"#000000",height:"50",left:"350",width:"220",id:"datafim",title:"yyyy-mm-dd"}),a.__views.__alloyId1172.add(a.__views.datafim),i?a.__views.datafim.addEventListener("click",i):r["$.__views.datafim!click!datePicker"]=!0,a.__views.__alloyId1175=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",height:"50",left:"580",width:"70",color:"white",title:"Ir",id:"__alloyId1175"}),a.__views.__alloyId1172.add(a.__views.__alloyId1175),t?a.__views.__alloyId1175.addEventListener("click",t):r["$.__views.__alloyId1175!click!listaPedidos"]=!0;var I={},h=[],g={type:"Ti.UI.View",childTemplates:function(){var e=[],i={type:"Ti.UI.Label",bindId:"label_numero",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,width:"15%",bindId:"label_numero"}};e.push(i);var t={type:"Ti.UI.Label",bindId:"label_data",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,width:"18%",bindId:"label_data"}};e.push(t);var a={type:"Ti.UI.Label",bindId:"label_razao",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,width:"25%",bindId:"label_razao"}};e.push(a);var l={type:"Ti.UI.Label",bindId:"label_cnpj",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,width:"30%",bindId:"label_cnpj"}};e.push(l);var _={type:"Ti.UI.Label",bindId:"label_acoes",properties:{backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"95%",left:"1%",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,width:"11%",text:"Detalhes",bindId:"label_acoes"},events:{click:o}};return e.push(_),e}(),properties:{layout:"horizontal"}};h.push(g);var y={properties:{height:"50",top:"6",width:"98%",name:"pedido_lista"},childTemplates:h};I.pedido_lista=y,a.__views.__alloyId1193=Ti.UI.createListSection({id:"__alloyId1193"});var u=[];u.push(a.__views.__alloyId1193),a.__views.listapedidos=Ti.UI.createListView({top:"74",height:"88%",width:"98%",sections:u,templates:I,id:"listapedidos",defaultItemTemplate:"pedido_lista"}),a.__views.__alloyId1171.add(a.__views.listapedidos),l.destroy=function(){},_.extend(a,a.__views),arguments[0]||{},Ti.include("/api/config.js"),Ti.include("/database/aparencia.js"),Ti.include("/database/pedido.js"),Ti.include("/database/clientes.js"),Ti.include("/api/menu.js"),a.logoEmpresa.image=getImagesFolder()+selectLogoFile(),r["$.__views.datainicio!click!datePicker"]&&a.__views.datainicio.addEventListener("click",i),r["$.__views.datafim!click!datePicker"]&&a.__views.datafim.addEventListener("click",i),r["$.__views.__alloyId1175!click!listaPedidos"]&&a.__views.__alloyId1175.addEventListener("click",t),_.extend(a,l)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;