function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){function e(){$.pagina_inicial.text=j,lt=Y[j-1];var e,a=selectProductById(lt,W,q),r=a.fieldByName("fk_template");switch(r){case 1:e="/images/notfound_quatro_quadrados.jpg";break;case 2:e="/images/notfound_tres_verticais.jpg";break;case 3:e="/images/notfound_quatro_verticais.jpg";break;case 4:e="/images/notfound_um_horizontal.jpg";break;case 5:e="/images/notfound_dois_horizontais.jpg";break;case 6:e="/images/notfound_dois_verticais.jpg";break;case 7:e="/images/notfound_quatro_horizontais.jpg";break;case 8:e="/images/notfound_cinco_verticais.jpg";break;case 9:e="/images/notfound_seis_verticais.jpg"}It=a.fieldByName("prd_ipi"),vt=a.fieldByName("prd_icms"),v=a.fieldByName("prd_dados_tecnicos"),g=a.fieldByName("prd_dados_composicao"),X=h(a.fieldByName("prd_data_inicio"),a.fieldByName("prd_data_fim")),m=a.fieldByName("prd_dados_descricao"),H=a.fieldByName("prd_codigo_barra"),$.referencia.text="Referência\n"+a.fieldByName("prd_referencia"),$.nome.text=a.fieldByName("prd_nome"),$.colecao.text="Coleção\n"+a.fieldByName("prd_nome_colecao"),$.preco.text="Preço / Qtde\n"+formatCurrency(a.fieldByName("minValor"))+" a "+formatCurrency(a.fieldByName("maxValor"));var l=getImagesFolder()+selectImagemPrincipal(lt),_=Ti.Filesystem.getFile(l);switch(_?_.exists()||(l=e):l=e,it="vertical",r){case 4:case 5:case 7:it="vertical";break;default:it="horizontal"}removeAllViews(K),Z&&$.content.remove(Z),K=Ti.UI.createView({top:10,left:0,height:"auto",width:"auto",layout:it}),Z=Ti.UI.createScrollView({contentWidth:"auto",contentHeight:"auto",scrollType:it,showVerticalScrollIndicator:!0,showHorizontalScrollIndicator:!0}),$.content.add(Z);var n;dt=[],ct=[],ft=[],ut=[],_t=[];for(var s,d=selectInformacaoProdutoByProduct(lt,W),c=d;c.isValidRow();){c.fieldByName("ifp_id");var f=c.fieldByName("cor_nome"),u=c.fieldByName("cor_id"),p=c.fieldByName("tmh_nome"),I=c.fieldByName("tmh_id");s=dt.indexOf(f),0>s&&(dt.push(f),ft.push(u)),s=ct.indexOf(p),0>s&&(ct.push(p),ut.push(I)),c.next()}if(J&&K.remove(J),"vertical"==it){Q=Titanium.UI.createImageView({left:0,width:"98%",image:l,borderColor:"#CDCDCD",borderWidth:"1"}),K.add(Q),tt=(Q.toBlob().width-70-113*(ct.length+3))/2,et=Titanium.UI.createView({top:3,left:Math.round(tt),height:"auto",layout:"horizontal",width:"100%"}),J=Titanium.UI.createView({height:"100%",layout:"horizontal",width:"auto"}),n=Titanium.UI.createView({height:"100%",width:100,layout:it});var y=Q.toBlob().height+5+113*dt.length;K.height=y,K.width="100%",et.add(n),et.add(J),K.add(et);var w=Titanium.UI.createLabel({backgroundColor:"#008382",color:"white",width:"100%",text:"Variantes",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER});n.add(w);for(var T=0;T<dt.length;T++){var E=getImagesFolder()+selectImagemVariantePrincipal(lt,ft[T]),_=Ti.Filesystem.getFile(E);_?_.exists()||(E=e):E=e;var b=Titanium.UI.createView({height:100,top:3,borderColor:"#008382",borderWidth:"1"}),A=Titanium.UI.createImageView({backgroundColor:"white",width:"98%",image:E,corid:ft[T]});A.addEventListener("click",function(e){t(e.source.corid),i(e.source.image)}),b.add(A),n.add(b)}var N=Titanium.UI.createLabel({backgroundColor:"#008382",color:"white",width:"100%",top:3,text:"TOTAL",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER});n.add(N)}else{J=Titanium.UI.createView({height:"100%",layout:"horizontal",width:"auto"}),Q=Titanium.UI.createImageView({image:l,top:"0%",left:0,height:"98%",borderColor:"#CDCDCD",borderWidth:"1"}),K.add(Q),tt=(Q.toBlob().height-113*dt.length)/2,n=Titanium.UI.createView({top:tt,left:3,layout:"vertical",height:"auto",width:100}),K.add(n),K.add(J);var w=Titanium.UI.createLabel({backgroundColor:"#008382",color:"white",width:"100%",text:"Variantes",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER});n.add(w);var x=Q.toBlob().width+5+103*(ct.length+2);K.width=x,K.height="100%";for(var T=0;T<dt.length;T++){var E=getImagesFolder()+selectImagemVariantePrincipal(lt,ft[T]),_=Ti.Filesystem.getFile(E);_?_.exists()||(E=e):E=e;var b=Titanium.UI.createView({height:100,top:3,borderColor:"#008382",borderWidth:"1"}),A=Titanium.UI.createImageView({backgroundColor:"white",width:"98%",image:E,corid:ft[T]});A.addEventListener("click",function(e){t(e.source.corid),i(e.source.image)}),b.add(A),n.add(b)}var N=Titanium.UI.createLabel({backgroundColor:"#008382",color:"white",width:"100%",top:3,text:"TOTAL",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER});n.add(N)}Z.add(K),o(),t(ft[0])}function t(e){var t=selectImagensPorVariante(lt,e);removeAllViews($.imagens);var o=Ti.UI.createScrollView({height:"100%",contentWidth:"auto",contentHeight:"auto",scrollType:"horizontal",layout:"horizontal",showVerticalScrollIndicator:!1,showHorizontalScrollIndicator:!0});Ti.API.info("imagens.length="+t.length);for(var a=0;a<t.length;a++){var r=Titanium.UI.createImageView({height:"65dp",image:getImagesFolder()+t[a],right:3,borderColor:"#CDCDCD",borderWidth:"1"});r.addEventListener("click",function(e){i(e.source.image)}),o.add(r)}$.imagens.add(o)}function i(e){Q.image=e}function o(){f(),removeAllViews(J);var e=0;"horizontal"==it&&(e=tt);for(var t=0,i=0;i<ct.length;i++){var o=Titanium.UI.createView({top:e,left:3,layout:"vertical",height:"auto",width:100}),r=Titanium.UI.createLabel({backgroundColor:"#008382",color:"white",width:"100%",text:ct[i],textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER});o.add(r);for(var l=0,_=0;_<dt.length;_++){var n=selectInformacaoProdutoByTamanhoCor(lt,ut[i],ft[_]);if(n.isValidRow()){var s=n.fieldByName("ifp_valor_1"),d=selectCarrinhoByProductTamanhoCor(lt,ut[i],ft[_],rt),c=0,h=0;0!=d[0]&&(c=d[1],l+=c),h=pt?formatCurrency(s):c,_t[t]=Titanium.UI.createView({height:100,tmh_id:ut[i],cor_id:ft[_],ipi:It,top:3,icms:vt,location:t,preco_unit:s,borderColor:"#008382",borderWidth:"1"}),nt[t]=Titanium.UI.createLabel({color:"#FF0000",width:"100%",top:5,text:h,textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,tmh_id:ut[i],cor_id:ft[_],location:t}),_t[t].add(nt[t]),st[t]=Titanium.UI.createLabel({color:"#008382",width:"100%",top:45,text:n.fieldByName("ifp_estoque_2")-c,textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,tmh_id:ut[i],cor_id:ft[_],location:t}),_t[t].add(st[t]);var p=Titanium.UI.createLabel({color:"#E98400",width:"100%",top:65,text:"min. "+n.fieldByName("ifp_qtde_minima"),textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,tmh_id:ut[i],cor_id:ft[_],location:t});_t[t].add(p),_t[t].addEventListener("click",function(e){a(e.source)}),o.add(_t[t]),t++}}var I=Titanium.UI.createLabel({backgroundColor:"#008382",color:"white",width:"100%",top:3,text:l,textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER});o.add(I),J.add(o)}u()}function a(e){var t=e.location,i=ht.indexOf(t),o=_t[t];0>i?(o.backgroundColor="#FFFF00",ht.push(t)):(o.backgroundColor="white",ht.splice(i,1))}function r(){if(""==$.tela.text)alert("Digite a quantidade");else{var e=$.tela.text;gt?s(e):l(e)}$.tela.text="",o()}function l(e){for(var t=0;t<ht.length;t++){var i=_t[ht[t]],o=st[ht[t]].text-e;0>o&&(o=0),c(i.tmh_id,i.cor_id,e,i.preco_unit,i.ipi,i.icms)}}function n(){gt?(gt=!1,$.sortido.backgroundGradient={type:"linear",colors:["#2c8f8e","#206764"]}):(gt=!0,$.sortido.backgroundGradient={type:"linear",colors:["#d9534f","#e5302a"]})}function s(e){for(var t=dt.length,i=ct.length,a=d(t,i,e),r=0;t>r;r++)for(var l=0;i>l;l++){var _=ft[r],n=ut[l],s=selectProductById(lt,W,at),f=a[r][l],u=s.fieldByName("minValor"),h=s.fieldByName("prd_ipi"),p=s.fieldByName("prd_icms");c(n,_,f,u,h,p)}o()}function d(e,t,i){for(var o=[],a=0;e>a;a++){o[a]=[];for(var r=0;t>r;r++)o[a][r]=0}var l=t/2,_=t%2,n=0,s=0;1==_?n=l+_:(n=l,s=l+1),n--,s--;var d=[],c=0;if(n>-1)for(var a=0;e>a;a++)d[c]=a+","+n,c++;if(s>-1)for(var a=0;e>a;a++)d[c]=a+","+s,c++;c=0;for(var a=0;e>a;a++)for(var r=0;t>r;r++){var f=a+","+r;d.indexOf(f)<0&&(d[c]=f,c++)}c=0;for(var u=0;i>u;u++){var h=d[c].split(","),p=o[h[0]][h[1]];p++,o[h[0]][h[1]]=p,c++,c==e*t&&(c=0)}return o}function c(e,t,i,o,a,r){var l=selectCarrinhoByProductTamanhoCor(lt,e,t,rt),_=Ti.App.Properties.getString(SESSION_ID),n=Ti.App.Properties.getString(CURRENT_USER_ID);if(0!=l[0]){var s=l[0],d=l[1],c=l[2],f=0;0!=i&&(f=d+parseInt(i)),f>c&&(f=c),updateCarrinho(s,_,f,0,0,0,0,0)}else insertCarrinho(_,i,o,a,r,0,0,0,0,0,n,lt,e,t,rt,W)}function f(){wt=0,mt=0,Tt=0,Et=0;for(var e=selectallCarrinho();e.isValidRow();)e.fieldByName("fk_produtos")==lt&&(Ti.API.info("carrinho="+e.fieldByName("car_quantidade")),wt+=e.fieldByName("car_quantidade"),mt+=e.fieldByName("car_quantidade")*e.fieldByName("car_preco_unitario")),Tt+=e.fieldByName("car_quantidade"),Et+=e.fieldByName("car_quantidade")*e.fieldByName("car_preco_unitario"),e.next();$.pecasref.title=wt+"",$.valorref.title=formatCurrency(mt),$.pecastotal.title=Tt+"",$.valortotal.title=formatCurrency(Et)}function u(){for(var e=0;e<ht.length;e++){var t=_t[ht[e]];t.backgroundColor="white"}ht=[]}function h(e,t){return"De "+e+" à "+t}function p(){goTo("categorias")}function I(){0>=Tt?alert("Nenhum produto comprado!"):bt>Et?alert("Valor mínimo para compra é de "+formatCurrency(bt)):goTo("carrinho")}function v(){alert(v)}function g(){alert(g)}function y(){pt=pt?!1:!0,o()}function w(){alert(X)}function m(){alert(m)}function T(){alert(H)}function E(){var e=$.tela.text;e.length>0&&($.tela.text=e.substring(0,e.length-1))}function b(){$.tela.text=$.tela.text+"1"}function A(){$.tela.text=$.tela.text+"2"}function N(){$.tela.text=$.tela.text+"3"}function x(){$.tela.text=$.tela.text+"4"}function L(){$.tela.text=$.tela.text+"5"}function k(){$.tela.text=$.tela.text+"6"}function S(){$.tela.text=$.tela.text+"7"}function C(){$.tela.text=$.tela.text+"8"}function U(){$.tela.text=$.tela.text+"9"}function R(){$.tela.text=$.tela.text+"0"}function P(){u(),$.tela.text=""}function O(){yt?($.produtos.animate({curve:Ti.UI.ANIMATION_CURVE_EASE_IN_OUT,right:"-20%",duration:200}),yt=!1):($.produtos.animate({curve:Ti.UI.ANIMATION_CURVE_EASE_IN_OUT,right:5,duration:200}),yt=!0)}function B(){O()}function V(){removeAllViews($.listaprodutos);var t=Ti.UI.createScrollView({top:10,left:0,contentWidth:"auto",contentHeight:"auto",scrollType:"vertical",layout:"vertical",showVerticalScrollIndicator:!0,showHorizontalScrollIndicator:!0}),i=Ti.UI.createView({width:"100%",layout:"horizontal"});$.listaprodutos.add(t);for(var o=1,a=0;a<Y.length;a++){var r=Titanium.UI.createView({top:5,left:5,layout:"vertical",height:140,width:"25%",prd_id:Y[a]}),l=Titanium.UI.createView({layout:"vertical",height:"80%",width:"100%",borderColor:"#008382",borderWidth:"1",prd_id:Y[a]});l.addEventListener("click",function(t){j=Y.indexOf(t.source.prd_id)+1,e()});var _=Titanium.UI.createImageView({height:"60%",prd_id:Y[a],image:getImagesFolder()+selectImagemPrincipal(Y[a])});l.add(_);var n=Titanium.UI.createButton({backgroundColor:"transparent",width:"100%",image:"/images/apagar.png",prd_id:Y[a]});r.add(l),r.add(n),o>3?(o=1,t.add(i),i=Ti.UI.createView({width:"100%",layout:"horizontal"})):i.add(r),o++}t.add(i)}function D(){for(var e=0;e<_t.length;e++){var t=_t[e];c(t.tmh_id,t.cor_id,0,0,0,0)}o()}function M(){j--,0>=j&&(j=Y.length),e()}function G(){j++,j>Y.length&&(j=1),e()}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="calculadora",this.args=arguments[0]||{},arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var $=this,z={},F={};$.__views.calculadora=Ti.UI.createWindow({backgroundColor:"white",id:"calculadora"}),$.__views.calculadora&&$.addTopLevelView($.__views.calculadora),$.__views.__alloyId0=Ti.UI.createView({height:"10%",left:"15%",bottom:0,width:"65%",layout:"horizontal",id:"__alloyId0"}),$.__views.calculadora.add($.__views.__alloyId0),$.__views.imagens=Ti.UI.createView({left:0,height:"88%",width:"55%",layout:"horizontal",id:"imagens"}),$.__views.__alloyId0.add($.__views.imagens),$.__views.__alloyId1=Ti.UI.createImageView({height:"60%",image:"/images/estoque.png",id:"__alloyId1"}),$.__views.__alloyId0.add($.__views.__alloyId1),$.__views.pagina_inicial=Ti.UI.createLabel({borderColor:"#008382",borderWidth:3,color:"red",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,width:50,height:50,text:"1",id:"pagina_inicial"}),$.__views.__alloyId0.add($.__views.pagina_inicial),$.__views.__alloyId2=Ti.UI.createLabel({color:"#008382",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,left:3,text:"de",id:"__alloyId2"}),$.__views.__alloyId0.add($.__views.__alloyId2),$.__views.pagina_final=Ti.UI.createLabel({borderColor:"#008382",borderWidth:3,color:"red",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,width:50,height:50,left:3,text:"1",id:"pagina_final"}),$.__views.__alloyId0.add($.__views.pagina_final),$.__views.content=Ti.UI.createView({height:"85%",left:"15%",bottom:"15%",width:"65%",id:"content"}),$.__views.calculadora.add($.__views.content),$.__views.__alloyId3=Ti.UI.createView({height:"100%",left:"0",width:"15%",id:"__alloyId3"}),$.__views.calculadora.add($.__views.__alloyId3),$.__views.__alloyId4=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"8%",top:"1%",width:"90%",id:"__alloyId4"}),$.__views.__alloyId3.add($.__views.__alloyId4),$.__views.referencia=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Referência",id:"referencia"}),$.__views.__alloyId4.add($.__views.referencia),$.__views.__alloyId5=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"8%",top:"10%",width:"90%",id:"__alloyId5"}),$.__views.__alloyId3.add($.__views.__alloyId5),$.__views.nome=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,id:"nome"}),$.__views.__alloyId5.add($.__views.nome),$.__views.__alloyId6=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"8%",top:"19%",width:"90%",id:"__alloyId6"}),$.__views.__alloyId3.add($.__views.__alloyId6),$.__views.colecao=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Coleção",id:"colecao"}),$.__views.__alloyId6.add($.__views.colecao),$.__views.__alloyId7=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"8%",top:"28%",width:"90%",id:"__alloyId7"}),$.__views.__alloyId3.add($.__views.__alloyId7),v?$.__views.__alloyId7.addEventListener("click",v):F["$.__views.__alloyId7!click!informacoes"]=!0,$.__views.__alloyId8=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Informações técnicas",id:"__alloyId8"}),$.__views.__alloyId7.add($.__views.__alloyId8),$.__views.__alloyId9=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"8%",top:"37%",width:"90%",id:"__alloyId9"}),$.__views.__alloyId3.add($.__views.__alloyId9),g?$.__views.__alloyId9.addEventListener("click",g):F["$.__views.__alloyId9!click!composicao"]=!0,$.__views.__alloyId10=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Composição",id:"__alloyId10"}),$.__views.__alloyId9.add($.__views.__alloyId10),$.__views.__alloyId11=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},font:{fontSize:16},borderRadius:"5",color:"#ffffff",height:"8%",top:"46%",width:"90%",id:"__alloyId11"}),$.__views.__alloyId3.add($.__views.__alloyId11),y?$.__views.__alloyId11.addEventListener("click",y):F["$.__views.__alloyId11!click!precotroca"]=!0,$.__views.preco=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Preço / Qtde",id:"preco"}),$.__views.__alloyId11.add($.__views.preco),$.__views.__alloyId12=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"8%",top:"55%",width:"90%",id:"__alloyId12"}),$.__views.__alloyId3.add($.__views.__alloyId12),w?$.__views.__alloyId12.addEventListener("click",w):F["$.__views.__alloyId12!click!prazo"]=!0,$.__views.__alloyId13=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Prazo de entrega",id:"__alloyId13"}),$.__views.__alloyId12.add($.__views.__alloyId13),$.__views.__alloyId14=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"8%",top:"64%",width:"90%",id:"__alloyId14"}),$.__views.__alloyId3.add($.__views.__alloyId14),m?$.__views.__alloyId14.addEventListener("click",m):F["$.__views.__alloyId14!click!descricao"]=!0,$.__views.__alloyId15=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Descrição do produto",id:"__alloyId15"}),$.__views.__alloyId14.add($.__views.__alloyId15),$.__views.__alloyId16=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"8%",top:"73%",width:"90%",id:"__alloyId16"}),$.__views.__alloyId3.add($.__views.__alloyId16),T?$.__views.__alloyId16.addEventListener("click",T):F["$.__views.__alloyId16!click!codbarras"]=!0,$.__views.__alloyId17=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Código de barras",id:"__alloyId17"}),$.__views.__alloyId16.add($.__views.__alloyId17),$.__views.logoEmpresa=Ti.UI.createImageView({image:"/images/logo_rodape.jpg",top:"82%",width:"90%",id:"logoEmpresa"}),$.__views.__alloyId3.add($.__views.logoEmpresa),$.__views.__alloyId18=Ti.UI.createView({height:"100%",right:"0",width:"20%",id:"__alloyId18"}),$.__views.calculadora.add($.__views.__alloyId18),$.__views.__alloyId19=Ti.UI.createView({borderColor:"#000000",borderWidth:"1",height:"10%",top:"1%",width:"94%",id:"__alloyId19"}),$.__views.__alloyId18.add($.__views.__alloyId19),$.__views.tela=Ti.UI.createLabel({backgroundColor:"#000000",color:"#ffffff",font:{fontSize:25},height:"90%",left:"1%",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,width:"67%",text:"",id:"tela"}),$.__views.__alloyId19.add($.__views.tela),$.__views.apaga=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"90%",right:"1%",font:{fontSize:18},width:"30%",title:"",id:"apaga"}),$.__views.__alloyId19.add($.__views.apaga),E?$.__views.apaga.addEventListener("click",E):F["$.__views.apaga!click!apaga"]=!0,$.__views.__alloyId20=Ti.UI.createView({borderColor:"#cccccc",borderWidth:"1",height:"50%",top:"12%",width:"94%",id:"__alloyId20"}),$.__views.__alloyId18.add($.__views.__alloyId20),$.__views.__alloyId21=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",left:"1%",top:"33%",width:"31%",title:"1",id:"__alloyId21"}),$.__views.__alloyId20.add($.__views.__alloyId21),b?$.__views.__alloyId21.addEventListener("click",b):F["$.__views.__alloyId21!click!botao1"]=!0,$.__views.__alloyId22=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",top:"33%",width:"31%",title:"2",id:"__alloyId22"}),$.__views.__alloyId20.add($.__views.__alloyId22),A?$.__views.__alloyId22.addEventListener("click",A):F["$.__views.__alloyId22!click!botao2"]=!0,$.__views.__alloyId23=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",right:"1%",top:"33%",width:"31%",title:"3",id:"__alloyId23"}),$.__views.__alloyId20.add($.__views.__alloyId23),N?$.__views.__alloyId23.addEventListener("click",N):F["$.__views.__alloyId23!click!botao3"]=!0,$.__views.__alloyId24=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",left:"1%",top:"17%",width:"31%",title:"4",id:"__alloyId24"}),$.__views.__alloyId20.add($.__views.__alloyId24),x?$.__views.__alloyId24.addEventListener("click",x):F["$.__views.__alloyId24!click!botao4"]=!0,$.__views.__alloyId25=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",top:"17%",width:"31%",title:"5",id:"__alloyId25"}),$.__views.__alloyId20.add($.__views.__alloyId25),L?$.__views.__alloyId25.addEventListener("click",L):F["$.__views.__alloyId25!click!botao5"]=!0,$.__views.__alloyId26=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",right:"1%",top:"17%",width:"31%",title:"6",id:"__alloyId26"}),$.__views.__alloyId20.add($.__views.__alloyId26),k?$.__views.__alloyId26.addEventListener("click",k):F["$.__views.__alloyId26!click!botao6"]=!0,$.__views.__alloyId27=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",left:"1%",top:"1%",width:"31%",title:"7",id:"__alloyId27"}),$.__views.__alloyId20.add($.__views.__alloyId27),S?$.__views.__alloyId27.addEventListener("click",S):F["$.__views.__alloyId27!click!botao7"]=!0,$.__views.__alloyId28=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",top:"1%",width:"31%",title:"8",id:"__alloyId28"}),$.__views.__alloyId20.add($.__views.__alloyId28),C?$.__views.__alloyId28.addEventListener("click",C):F["$.__views.__alloyId28!click!botao8"]=!0,$.__views.__alloyId29=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",right:"1%",top:"1%",width:"31%",title:"9",id:"__alloyId29"}),$.__views.__alloyId20.add($.__views.__alloyId29),U?$.__views.__alloyId29.addEventListener("click",U):F["$.__views.__alloyId29!click!botao9"]=!0,$.__views.__alloyId30=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#d9534f","#e5302a"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",left:"1%",top:"49%",width:"31%",title:"OK",id:"__alloyId30"}),$.__views.__alloyId20.add($.__views.__alloyId30),r?$.__views.__alloyId30.addEventListener("click",r):F["$.__views.__alloyId30!click!botaoOk"]=!0,$.__views.__alloyId31=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",font:{fontSize:25},color:"#ffffff",height:"15%",top:"49%",width:"31%",title:"0",id:"__alloyId31"}),$.__views.__alloyId20.add($.__views.__alloyId31),R?$.__views.__alloyId31.addEventListener("click",R):F["$.__views.__alloyId31!click!botao0"]=!0,$.__views.sortido=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",height:"15%",right:"1%",top:"49%",width:"31%",id:"sortido"}),$.__views.__alloyId20.add($.__views.sortido),n?$.__views.sortido.addEventListener("click",n):F["$.__views.sortido!click!botaoSortir"]=!0,$.__views.__alloyId32=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"QTDE. SORTIDA",id:"__alloyId32"}),$.__views.sortido.add($.__views.__alloyId32),$.__views.__alloyId33=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#d9534f","#e5302a"]},borderRadius:"5",color:"#ffffff",height:"15%",left:"1%",top:"65%",width:"31%",id:"__alloyId33"}),$.__views.__alloyId20.add($.__views.__alloyId33),P?$.__views.__alloyId33.addEventListener("click",P):F["$.__views.__alloyId33!click!botaoLimpa"]=!0,$.__views.__alloyId34=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"LIMPAR",id:"__alloyId34"}),$.__views.__alloyId33.add($.__views.__alloyId34),$.__views.__alloyId35=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",font:{fontSize:12},height:"15%",top:"65%",width:"31%",id:"__alloyId35"}),$.__views.__alloyId20.add($.__views.__alloyId35),O?$.__views.__alloyId35.addEventListener("click",O):F["$.__views.__alloyId35!click!botaoLista"]=!0,$.__views.__alloyId36=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"LISTAR PROD.",id:"__alloyId36"}),$.__views.__alloyId35.add($.__views.__alloyId36),$.__views.__alloyId37=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#d9534f","#e5302a"]},borderRadius:"5",color:"#ffffff",font:{fontSize:12},height:"15%",right:"1%",top:"65%",width:"31%",id:"__alloyId37"}),$.__views.__alloyId20.add($.__views.__alloyId37),D?$.__views.__alloyId37.addEventListener("click",D):F["$.__views.__alloyId37!click!botaoZera"]=!0,$.__views.__alloyId38=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"ZERAR",id:"__alloyId38"}),$.__views.__alloyId37.add($.__views.__alloyId38),$.__views.__alloyId39=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",font:{fontSize:12},height:"18%",left:"1%",top:"81%",width:"48%",id:"__alloyId39"}),$.__views.__alloyId20.add($.__views.__alloyId39),M?$.__views.__alloyId39.addEventListener("click",M):F["$.__views.__alloyId39!click!botaoAnterior"]=!0,$.__views.__alloyId40=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"PRODUTO ANTERIOR SELECIONADO",id:"__alloyId40"}),$.__views.__alloyId39.add($.__views.__alloyId40),$.__views.__alloyId41=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",font:{fontSize:12},height:"18%",right:"1%",top:"81%",width:"48%",id:"__alloyId41"}),$.__views.__alloyId20.add($.__views.__alloyId41),G?$.__views.__alloyId41.addEventListener("click",G):F["$.__views.__alloyId41!click!botaoProximo"]=!0,$.__views.__alloyId42=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"PRÓXIMO PRODUTO SELECIONADO",id:"__alloyId42"}),$.__views.__alloyId41.add($.__views.__alloyId42),$.__views.__alloyId43=Ti.UI.createLabel({backgroundColor:"#ffffff",borderColor:"#000000",borderWidth:"1",color:"#000000",font:{fontSize:12},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,height:"6%",left:"3%",top:"63%",width:"40%",text:"Nº de peças desta ref.:",id:"__alloyId43"}),$.__views.__alloyId18.add($.__views.__alloyId43),$.__views.pecasref=Ti.UI.createButton({backgroundColor:"#000000",borderColor:"#ffffff",borderWidth:"1",color:"#ffffff",height:"6%",right:"3%",top:"63%",width:"54%",title:"0",id:"pecasref"}),$.__views.__alloyId18.add($.__views.pecasref),$.__views.__alloyId44=Ti.UI.createLabel({backgroundColor:"#ffffff",borderColor:"#000000",borderWidth:"1",color:"#000000",font:{fontSize:12},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,height:"6%",left:"3%",top:"69%",width:"40%",text:"Valor desta ref.:",id:"__alloyId44"}),$.__views.__alloyId18.add($.__views.__alloyId44),$.__views.valorref=Ti.UI.createButton({backgroundColor:"#000000",borderColor:"#ffffff",borderWidth:"1",color:"#ffffff",height:"6%",right:"3%",top:"69%",width:"54%",title:"R$ 0,00",id:"valorref"}),$.__views.__alloyId18.add($.__views.valorref),$.__views.__alloyId45=Ti.UI.createLabel({backgroundColor:"#ffffff",borderColor:"#000000",borderWidth:"1",color:"#000000",font:{fontSize:12},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,height:"6%",left:"3%",top:"76%",width:"40%",text:"Nº de peças acumuladas:",id:"__alloyId45"}),$.__views.__alloyId18.add($.__views.__alloyId45),$.__views.pecastotal=Ti.UI.createButton({backgroundColor:"#000000",borderColor:"#ffffff",borderWidth:"1",color:"#ffffff",height:"6%",right:"3%",top:"76%",width:"54%",title:"0",id:"pecastotal"}),$.__views.__alloyId18.add($.__views.pecastotal),$.__views.__alloyId46=Ti.UI.createLabel({backgroundColor:"#ffffff",borderColor:"#000000",borderWidth:"1",color:"#000000",font:{fontSize:12},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,height:"6%",left:"3%",top:"82%",width:"40%",text:"Valor acumulado:",id:"__alloyId46"}),$.__views.__alloyId18.add($.__views.__alloyId46),$.__views.valortotal=Ti.UI.createButton({backgroundColor:"#000000",borderColor:"#ffffff",borderWidth:"1",color:"#ffffff",height:"6%",right:"3%",top:"82%",width:"54%",title:"R$ 0,00",id:"valortotal"}),$.__views.__alloyId18.add($.__views.valortotal),$.__views.__alloyId47=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",bottom:"1%",color:"#ffffff",font:{fontSize:14},height:"10%",right:"3%",width:"46%",id:"__alloyId47"}),$.__views.__alloyId18.add($.__views.__alloyId47),p?$.__views.__alloyId47.addEventListener("click",p):F["$.__views.__alloyId47!click!goToCatalogo"]=!0,$.__views.__alloyId48=Ti.UI.createLabel({touchEnabled:"false",color:"#ffffff",font:{fontSize:11},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"VOLTAR CATEGORIAS",id:"__alloyId48"}),$.__views.__alloyId47.add($.__views.__alloyId48),$.__views.__alloyId49=Ti.UI.createView({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",bottom:"1%",height:"10%",left:"3%",width:"46%",id:"__alloyId49"}),$.__views.__alloyId18.add($.__views.__alloyId49),I?$.__views.__alloyId49.addEventListener("click",I):F["$.__views.__alloyId49!click!goToPedido"]=!0,$.__views.__alloyId50=Ti.UI.createImageView({height:"50%",image:"/images/carrinho.png",id:"__alloyId50"}),$.__views.__alloyId49.add($.__views.__alloyId50),I?$.__views.__alloyId50.addEventListener("click",I):F["$.__views.__alloyId50!click!goToPedido"]=!0,$.__views.produtos=Ti.UI.createView({backgroundColor:"white",top:5,bottom:5,height:"100%",right:"-20%",width:"20%",borderColor:"#008382",borderWidth:"1",id:"produtos"}),$.__views.calculadora.add($.__views.produtos),$.__views.__alloyId51=Ti.UI.createLabel({backgroundColor:"#008382",color:"white",top:0,width:"100%",height:"5%",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Lista de Produtos",id:"__alloyId51"}),$.__views.produtos.add($.__views.__alloyId51),$.__views.listaprodutos=Ti.UI.createView({width:"100%",heigth:"85%",top:"6%",layout:"vertical",id:"listaprodutos"}),$.__views.produtos.add($.__views.listaprodutos),$.__views.__alloyId52=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"5%",bottom:"2%",right:"5%",width:"40%",title:"Voltar",id:"__alloyId52"}),$.__views.produtos.add($.__views.__alloyId52),B?$.__views.__alloyId52.addEventListener("click",B):F["$.__views.__alloyId52!click!fecharLista"]=!0,z.destroy=function(){},_.extend($,$.__views),arguments[0]||{},Ti.include("/api/config.js"),Ti.include("/database/aparencia.js"),Ti.include("/database/clientes.js"),Ti.include("/database/produtos.js"),Ti.include("/database/aparencia.js"),Ti.include("/database/carrinho.js"),Ti.include("/database/imagens_produtos.js"),Ti.include("/database/informacao_produto.js");var j=1,q=1,W=Ti.App.Properties.getString(CURRENT_EMPRESA),Y=Ti.App.Properties.getList(SELECTED_PRODUCTS);Ti.App.Properties.getList(CURRENT_USER_ID);var v,g,X,m,H,J,Q,K,Z,et,tt,it,ot=Ti.App.Properties.getList(SELECTED_CLIENTS),at=1,rt=ot[0],lt=0,_t=[],nt=[],st=[],dt=[],ct=[],ft=[],ut=[],ht=[],pt=!1,It=0,vt=0,gt=!1,yt=!1,wt=0,mt=0,Tt=0,Et=0;$.logoEmpresa.image=getImagesFolder()+selectLogoFile(),$.apaga.title="<<",e(),V(),$.pagina_final.text=Y.length;var bt=0,At=0,Nt=consultaCredito(ot[0]);Nt.isValidRow()&&(bt=Nt.fieldByName("cl_valor_minimo"),At=Nt.fieldByName("cl_credito_total")-Nt.fieldByName("cl_credito_utilizado")),F["$.__views.__alloyId7!click!informacoes"]&&$.__views.__alloyId7.addEventListener("click",v),F["$.__views.__alloyId9!click!composicao"]&&$.__views.__alloyId9.addEventListener("click",g),F["$.__views.__alloyId11!click!precotroca"]&&$.__views.__alloyId11.addEventListener("click",y),F["$.__views.__alloyId12!click!prazo"]&&$.__views.__alloyId12.addEventListener("click",w),F["$.__views.__alloyId14!click!descricao"]&&$.__views.__alloyId14.addEventListener("click",m),F["$.__views.__alloyId16!click!codbarras"]&&$.__views.__alloyId16.addEventListener("click",T),F["$.__views.apaga!click!apaga"]&&$.__views.apaga.addEventListener("click",E),F["$.__views.__alloyId21!click!botao1"]&&$.__views.__alloyId21.addEventListener("click",b),F["$.__views.__alloyId22!click!botao2"]&&$.__views.__alloyId22.addEventListener("click",A),F["$.__views.__alloyId23!click!botao3"]&&$.__views.__alloyId23.addEventListener("click",N),F["$.__views.__alloyId24!click!botao4"]&&$.__views.__alloyId24.addEventListener("click",x),F["$.__views.__alloyId25!click!botao5"]&&$.__views.__alloyId25.addEventListener("click",L),F["$.__views.__alloyId26!click!botao6"]&&$.__views.__alloyId26.addEventListener("click",k),F["$.__views.__alloyId27!click!botao7"]&&$.__views.__alloyId27.addEventListener("click",S),F["$.__views.__alloyId28!click!botao8"]&&$.__views.__alloyId28.addEventListener("click",C),F["$.__views.__alloyId29!click!botao9"]&&$.__views.__alloyId29.addEventListener("click",U),F["$.__views.__alloyId30!click!botaoOk"]&&$.__views.__alloyId30.addEventListener("click",r),F["$.__views.__alloyId31!click!botao0"]&&$.__views.__alloyId31.addEventListener("click",R),F["$.__views.sortido!click!botaoSortir"]&&$.__views.sortido.addEventListener("click",n),F["$.__views.__alloyId33!click!botaoLimpa"]&&$.__views.__alloyId33.addEventListener("click",P),F["$.__views.__alloyId35!click!botaoLista"]&&$.__views.__alloyId35.addEventListener("click",O),F["$.__views.__alloyId37!click!botaoZera"]&&$.__views.__alloyId37.addEventListener("click",D),F["$.__views.__alloyId39!click!botaoAnterior"]&&$.__views.__alloyId39.addEventListener("click",M),F["$.__views.__alloyId41!click!botaoProximo"]&&$.__views.__alloyId41.addEventListener("click",G),F["$.__views.__alloyId47!click!goToCatalogo"]&&$.__views.__alloyId47.addEventListener("click",p),F["$.__views.__alloyId49!click!goToPedido"]&&$.__views.__alloyId49.addEventListener("click",I),F["$.__views.__alloyId50!click!goToPedido"]&&$.__views.__alloyId50.addEventListener("click",I),F["$.__views.__alloyId52!click!fecharLista"]&&$.__views.__alloyId52.addEventListener("click",B),_.extend($,z)
}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;