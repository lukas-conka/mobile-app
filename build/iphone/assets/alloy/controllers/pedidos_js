function __processArg(e,i){var t=null;return e&&(t=e[i]||null,delete e[i]),t}function Controller(){function e(e){if(Ti.API.info(e.itemIndex),1==e.itemIndex||2==e.itemIndex||3==e.itemIndex||4==e.itemIndex)if(Ti.App.Properties.getList(SELECTED_CLIENTS)){for(var i=Ti.App.Properties.getList(SELECTED_CLIENTS),t=0;t<i.length;t++);0==t?alert("É necessário a seleção de um cliente ou mais para seguir em diante!"):menuSelection(e.itemIndex)}else alert("É necessário a seleção de um cliente ou mais para seguir em diante!");else menuSelection(e.itemIndex)}function i(e){var i=e.source,t=new Date,o=Ti.UI.createWindow({exitOnClose:!1,backgroundColor:"gray",layout:"vertical"}),l=Ti.UI.createPicker({type:Ti.UI.PICKER_TYPE_DATE,minDate:new Date(2013,0,1),maxDate:t,value:t,top:50,buttonNames:["Ok"]}),a=Ti.UI.createButton({title:"  OK  ",style:1,borderRadius:9,font:{fontSize:25},backgroundColor:"white",color:"#336633"});a.addEventListener("click",function(){o.close()}),o.add(l),o.add(a),o.open();var _=checkdecimal(t.getDate()),d=checkdecimal(t.getMonth()+1),r=t.getFullYear();i.title=r+"-"+d+"-"+_,l.addEventListener("change",function(e){Titanium.UI.currentWindow;var t=checkdecimal(e.value.getDate()),o=checkdecimal(e.value.getMonth()+1),l=e.value.getFullYear();i.title=l+"-"+o+"-"+t})}function t(){if("yyyy-mm-dd"!=l.datainicio.title&&"yyyy-mm-dd"!=l.datafim.title){for(var e=l.datainicio.title,i=l.datafim.title,t=consultaPedidosPorData(e,i),o=[],a=0;t.isValidRow();){a++;var _=t.fieldByName("ped_id"),d=t.fieldByName("ped_numero"),r=t.fieldByName("cl_cnpj"),s=t.fieldByName("cl_razao"),n=t.fieldByName("ped_data"),c=n.split(" "),I=new Date(c[0]),p=I.getDate()+" de "+getMonth(I.getMonth()+1)+" de "+I.getFullYear();o.push({ped_id:_,label_numero:{text:"Nº "+d},label_data:{text:r},label_razao:{text:s},label_cnpj:{text:p}}),t.next()}l.listapedidos.sections[0].setItems(o),0==a&&alert("Nenhum pedido encontrado no periodo selecionado")}else alert("Por favor, selecione as datas para o filtro")}function o(e){var i=l.listapedidos.sections[e.sectionIndex],t=i.getItemAt(e.itemIndex),o=t.ped_id,a={ped_id:o},_=Alloy.createController("detalhe",a).getView();_.open({fullscreen:!0,navBarHidden:!0})}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="pedidos",this.args=arguments[0]||{},arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var l=this,a={},d={};l.__views.pedidos=Ti.UI.createWindow({backgroundColor:"white",id:"pedidos"}),l.__views.pedidos&&l.addTopLevelView(l.__views.pedidos);var r={},s=[],n={type:"Ti.UI.View",childTemplates:function(){var e=[],i={type:"Ti.UI.Label",bindId:"btnmenu",properties:{touchEnabled:"false",width:"98%",color:"white",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,bindId:"btnmenu"}};return e.push(i),e}(),properties:{backgroundColor:"#3f3a35",borderColor:"#9ccccb",borderWidth:"4",color:"#ffffff",width:"90%",height:"80%"},events:{click:e}};s.push(n);var c={properties:{height:"112dp",name:"menuTemplate"},childTemplates:s};r.menuTemplate=c;var I=[];l.__views.__alloyId1158={btnmenu:{text:"CNPJ/\n RAZÃO SOCIAL/\n ENDEREÇO LOJA"},properties:{id:"__alloyId1158"}},I.push(l.__views.__alloyId1158),l.__views.__alloyId1159={btnmenu:{text:"ANÁLISE DE \n CRÉDITO"},properties:{id:"__alloyId1159"}},I.push(l.__views.__alloyId1159),l.__views.__alloyId1160={btnmenu:{text:"IR AO\n CATÁLOGO"},properties:{id:"__alloyId1160"}},I.push(l.__views.__alloyId1160),l.__views.__alloyId1161={btnmenu:{text:"PEDIDOS"},properties:{id:"__alloyId1161"}},I.push(l.__views.__alloyId1161),l.__views.__alloyId1162={btnmenu:{text:"TRANSPORTADORA"},properties:{id:"__alloyId1162"}},I.push(l.__views.__alloyId1162),l.__views.__alloyId1163={btnmenu:{text:"NOVO CLIENTE"},properties:{id:"__alloyId1163"}},I.push(l.__views.__alloyId1163),l.__views.__alloyId1164={btnmenu:{text:"FUNÇÕES"},properties:{id:"__alloyId1164"}},I.push(l.__views.__alloyId1164),l.__views.__alloyId1165={btnmenu:{text:"EMAIL"},properties:{id:"__alloyId1165"}},I.push(l.__views.__alloyId1165),l.__views.__alloyId1166={btnmenu:{text:"VOLTAR PARA TELA INICIAL"},properties:{id:"__alloyId1166"}},I.push(l.__views.__alloyId1166),l.__views.__alloyId1167={btnmenu:{text:"TROCAR\n MARCA"},properties:{id:"__alloyId1167"}},I.push(l.__views.__alloyId1167),l.__views.__alloyId1168={btnmenu:{text:"SAIR"},properties:{id:"__alloyId1168"}},I.push(l.__views.__alloyId1168),l.__views.__alloyId1155=Ti.UI.createListSection({id:"__alloyId1155"}),l.__views.__alloyId1155.items=I;var p=[];p.push(l.__views.__alloyId1155),l.__views.__alloyId1145=Ti.UI.createListView({backgroundColor:"#ebf7f6",height:"100%",left:"0",width:"15%",sections:p,templates:r,defaultItemTemplate:"menuTemplate",id:"__alloyId1145"}),l.__views.pedidos.add(l.__views.__alloyId1145),l.__views.__alloyId1170=Ti.UI.createView({height:"100%",right:"0",width:"85%",id:"__alloyId1170"}),l.__views.pedidos.add(l.__views.__alloyId1170),l.__views.__alloyId1171=Ti.UI.createView({height:"90",top:"0",width:"98%",id:"__alloyId1171"}),l.__views.__alloyId1170.add(l.__views.__alloyId1171),l.__views.__alloyId1172=Ti.UI.createView({height:"90%",left:"0",width:"15%",id:"__alloyId1172"}),l.__views.__alloyId1171.add(l.__views.__alloyId1172),l.__views.logoEmpresa=Ti.UI.createImageView({image:"/images/logo_rodape.jpg",left:"0",id:"logoEmpresa"}),l.__views.__alloyId1172.add(l.__views.logoEmpresa),l.__views.__alloyId1173=Ti.UI.createButton({backgroundColor:"#FFFFFF",color:"#4e8789",height:"90",left:"15%",width:"70%",title:"PEDIDOS",id:"__alloyId1173"}),l.__views.__alloyId1171.add(l.__views.__alloyId1173),l.__views.__alloyId1174=Ti.UI.createView({height:"90",left:"85%",width:"15%",id:"__alloyId1174"}),l.__views.__alloyId1171.add(l.__views.__alloyId1174),l.__views.__alloyId1175=Ti.UI.createImageView({image:"/images/logo_rodape.jpg",right:"0",id:"__alloyId1175"}),l.__views.__alloyId1174.add(l.__views.__alloyId1175),l.__views.__alloyId1176=Ti.UI.createView({borderColor:"#4e8789",borderWidth:"4",top:"90",width:"98%",id:"__alloyId1176"}),l.__views.__alloyId1170.add(l.__views.__alloyId1176),l.__views.__alloyId1177=Ti.UI.createView({borderColor:"#4e8789",borderWidth:"4",height:"70",top:"0",width:"100%",id:"__alloyId1177"}),l.__views.__alloyId1176.add(l.__views.__alloyId1177),l.__views.__alloyId1178=Ti.UI.createButton({backgroundColor:"#FFFFFF",color:"#222222",height:"50",left:"0",width:"50",title:"DE",id:"__alloyId1178"}),l.__views.__alloyId1177.add(l.__views.__alloyId1178),l.__views.datainicio=Ti.UI.createButton({backgroundColor:"#FFFFFF",borderColor:"#6EA9A0",borderWidth:"4",color:"#000000",height:"50",left:"60",width:"220",id:"datainicio",title:"yyyy-mm-dd"}),l.__views.__alloyId1177.add(l.__views.datainicio),i?l.__views.datainicio.addEventListener("click",i):d["$.__views.datainicio!click!datePicker"]=!0,l.__views.__alloyId1179=Ti.UI.createButton({backgroundColor:"#FFFFFF",color:"#222222",height:"50",left:"290",width:"50",title:"ATÉ",id:"__alloyId1179"}),l.__views.__alloyId1177.add(l.__views.__alloyId1179),l.__views.datafim=Ti.UI.createButton({backgroundColor:"#FFFFFF",borderColor:"#6EA9A0",borderWidth:"4",color:"#000000",height:"50",left:"350",width:"220",id:"datafim",title:"yyyy-mm-dd"}),l.__views.__alloyId1177.add(l.__views.datafim),i?l.__views.datafim.addEventListener("click",i):d["$.__views.datafim!click!datePicker"]=!0,l.__views.__alloyId1180=Ti.UI.createButton({backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",height:"50",left:"580",width:"70",color:"white",title:"Ir",id:"__alloyId1180"}),l.__views.__alloyId1177.add(l.__views.__alloyId1180),t?l.__views.__alloyId1180.addEventListener("click",t):d["$.__views.__alloyId1180!click!listaPedidos"]=!0;var w={},h=[],v={type:"Ti.UI.View",childTemplates:function(){var e=[],i={type:"Ti.UI.Label",bindId:"label_numero",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,width:"15%",bindId:"label_numero"}};e.push(i);var t={type:"Ti.UI.Label",bindId:"label_data",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,width:"18%",bindId:"label_data"}};e.push(t);var l={type:"Ti.UI.Label",bindId:"label_razao",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,width:"25%",bindId:"label_razao"}};e.push(l);var a={type:"Ti.UI.Label",bindId:"label_cnpj",properties:{backgroundColor:"#cce9e5",color:"#000000",height:"100%",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,width:"30%",bindId:"label_cnpj"}};e.push(a);var _={type:"Ti.UI.Label",bindId:"label_acoes",properties:{backgroundGradient:{type:"linear",colors:["#2c8f8e","#206764"]},borderRadius:"5",color:"#ffffff",height:"95%",left:"1%",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,width:"11%",text:"Detalhes",bindId:"label_acoes"},events:{click:o}};return e.push(_),e}(),properties:{layout:"horizontal"}};h.push(v);var f={properties:{height:"50",top:"6",width:"98%",name:"pedido_lista"},childTemplates:h};w.pedido_lista=f,l.__views.__alloyId1198=Ti.UI.createListSection({id:"__alloyId1198"});var u=[];u.push(l.__views.__alloyId1198),l.__views.listapedidos=Ti.UI.createListView({top:"74",height:"88%",width:"98%",sections:u,templates:w,id:"listapedidos",defaultItemTemplate:"pedido_lista"}),l.__views.__alloyId1176.add(l.__views.listapedidos),a.destroy=function(){},_.extend(l,l.__views),arguments[0]||{},Ti.include("/api/config.js"),Ti.include("/database/aparencia.js"),Ti.include("/database/pedido.js"),Ti.include("/database/clientes.js"),Ti.include("/api/menu.js"),l.logoEmpresa.image=getImagesFolder()+selectLogoFile(),d["$.__views.datainicio!click!datePicker"]&&l.__views.datainicio.addEventListener("click",i),d["$.__views.datafim!click!datePicker"]&&l.__views.datafim.addEventListener("click",i),d["$.__views.__alloyId1180!click!listaPedidos"]&&l.__views.__alloyId1180.addEventListener("click",t),_.extend(l,a)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;